{"version":3,"sources":["routes/index.js","actions/index.js","templates/Header.js","views/Login.js","views/Register.js","templates/Card.js","components/RemoveModal.js","utils/index.js","components/MealSnippet.js","components/DayModal.js","components/DayNote.js","views/Dashboard.js","views/SavedMeals.js","components/IngredientModal.js","components/OkModal.js","components/IngredientSnippet.js","views/SavedIngredients.js","views/Configuration.js","components/MealModal.js","components/MealNote.js","views/Day.js","reducer/index.js","store/index.js","views/Root.js","index.js","assets/logo.svg"],"names":["routes","urlOrigin","window","location","origin","Header","state","navOpened","handleNavClick","setState","prevState","this","props","loggedAs","logout","history","className","to","src","logo","alt","type","aria-label","aria-expanded","data-target","onClick","aria-hidden","id","push","React","Component","defaultProps","withRouter","connect","dispatch","Login","error","email","password","loginError","handleInputChange","e","target","getAttribute","split","attr","value","handleLoginButton","login","htmlFor","placeholder","onChange","loginSuccess","axios","post","then","payload","data","catch","loginAction","Register","errorPswd","errorEmail","password2","registerError","handleInputBlur","test","length","handleRegisterButton","register","onBlur","registerErr","registerSuccess","newState","registerAction","Card","children","title","subtitle","href","RemoveModal","click","floorToOne","n","Math","floor","saveDB","token","localStorage","getItem","Array","isArray","join","url","method","headers","MealSnippet","removeModalShow","handleRemoveButton","preventDefault","handleBackButton","handleRemoveModal","sure","name","removeBookmarkedMeal","time","substances","ingredients","isRemovable","thetime","Date","ingredientsList","map","i","getHours","toString","getMinutes","proteins","fats","carbs","calories","removeBookmarkedMealAction","DayModal","date","isSelected","dateExists","handleDateChange","days","d","getTime","includes","handleSaveDay","saveNewDay","close","isEdit","editDay","dayId","selected","shouldCloseOnSelect","editDayAction","saveNewDayAction","DayNote","editModalShow","handleEditButton","identity","removeDay","path","config","numdate","getFullYear","getMonth","getDate","Pmin","Pmax","Fmin","Fmax","Cmin","Cmax","BMR","goal","removeDayAction","Dashboard","modalOpened","handleAddNew","handleCloseModal","dayList","mealList","meals","m","key","savedMeals","IngredientModal","quantity","nameExists","searchOpened","searchField","searchError","searchServerFail","searched","prevName","ingredientNames","handleSaveButton","addIngredient","mealType","editIngredient","recountSubstances","handleFromBookmarks","savedIngredients","filter","ingredient","handleOpenSearch","handleSearchProduct","ua","navigator","oscpu","search","products","p","generic_name","product_name","img","image_small_url","nutriments","proteins_100g","fat_100g","carbohydrates_100g","console","log","handleUseProduct","theProduct","searchedProducts","s","data-id","min","addIngredientAction","editIngredientAction","OkModal","IngredientSnippet","bookmarkModalShow","removeIngredient","removeBookmarkedIngredient","isntEditable","handleBookmarkIngredient","bookmarkIngredient","removeIngredientAction","removeBookmarkedIngredientAction","bookmarkIngredientAction","Configuration","bmrForm","bodyMass","bodyHeight","age","activity","sex","result","proportionsForm","handleMassChange","persist","handleHeightChange","handleAgeChange","handleActivityChange","handleSexChange","sexTo","handleCalculateButton","Object","values","indexOf","handleProteinChange","handleFatsChange","handleCarbsChange","handleSaveBMR","yourProteins","yourFats","yourCarbs","yourGoal","saveBMR","saveProportions","minProteins","maxProteins","minFats","maxFats","minCarbs","maxCarbs","ratioP","ratioF","ratioC","handleSaveProportions","yourBMR","handleGoalChange","handleSaveGoal","saveGoal","errorBMR","propError","errorGoal","checked","BMRresult","saveBMRAction","properties","saveProportionsAction","saveGoalAction","MealModal","timeExists","times","types","handleNameChange","handleTimeChange","handleTypeChange","handleSaveMeal","saveNewMeal","prevTime","prevType","editMeal","parts","timeFormat","setHours","setMinutes","meal","maxDetail","clearIcon","saveNewMealAction","editMealAction","MealNote","ingredientModalShow","bookmarkModal","names","handleIngredientBackButton","removeMeal","handleAddIngredient","handleBookmarkMeal","bookmarkMeal","timeObj","rightTime","PropTypes","shape","removeMealAction","bookmarkMealAction","Day","match","dayParam","params","day","thisDate","thisDay","ingredientList","v","initialState","rootReducer","helper","action","max","sort","a","b","reduce","removeItem","setItem","persistConfig","storage","persistedReducer","persistReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","persistor","persistStore","Root","exact","component","SavedMeals","SavedIngredients","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.bb295a6b.chunk.js","sourcesContent":["// eslint-disable-next-line import/prefer-default-export\r\nexport const routes = {\r\n  home: '/',\r\n  dashboard: '/dashboard/',\r\n  day: '/dashboard/days/:day',\r\n  meals: '/meals/',\r\n  ingredients: '/ingredients/',\r\n  config: '/configuration',\r\n  login: '/login',\r\n  register: '/register',\r\n};\r\n","import axios from 'axios';\r\n\r\nexport const SAVE_BMR = 'SAVE_BMR';\r\nexport const SAVE_PROPORTIONS = 'SAVE_PROPORTIONS';\r\nexport const SAVE_GOAL = 'SAVE_GOAL';\r\nexport const SAVE_NEW_DAY = 'SAVE_NEW_DAY';\r\nexport const EDIT_DAY = 'EDIT_DAY';\r\nexport const SAVE_NEW_MEAL = 'SAVE_NEW_MEAL';\r\nexport const EDIT_MEAL = 'EDIT_MEAL';\r\nexport const REMOVE_DAY = 'REMOVE_DAY';\r\nexport const REMOVE_MEAL = 'REMOVE_MEAL';\r\nexport const RECOUNT_SUBSTANCES = 'RECOUNT_SUBSTANCES';\r\nexport const ADD_INGREDIENT = 'ADD_INGREDIENT';\r\nexport const REMOVE_INGREDIENT = 'REMOVE_INGREDIENT';\r\nexport const EDIT_INGREDIENT = 'EDIT_INGREDIENT';\r\nexport const BOOKMARK_MEAL = 'BOOKMARK_MEAL';\r\nexport const BOOKMARK_INGREDIENT = 'BOOKMARK_INGREDIENT';\r\nexport const REMOVE_BOOKMARKED_MEAL = 'REMOVE_BOOKMARKED_MEAL';\r\nexport const REMOVE_BOOKMARKED_INGREDIENT = 'REMOVE_BOOKMARKED_INGREDIENT';\r\n\r\nexport const USER_REGISTER = 'USER_REGISTER';\r\nexport const USER_LOGIN = 'USER_LOGIN';\r\nexport const USER_LOGOUT = 'USER_LOGOUT';\r\n\r\nconst urlOrigin = window.location.origin;\r\n\r\nexport const saveBMR = (BMRresult) => {\r\n  return {\r\n    type: SAVE_BMR,\r\n    payload: {\r\n      BMRresult,\r\n    },\r\n  };\r\n};\r\n\r\nexport const saveProportions = (properties) => {\r\n  return {\r\n    type: SAVE_PROPORTIONS,\r\n    payload: {\r\n      properties,\r\n    },\r\n  };\r\n};\r\n\r\nexport const saveGoal = (goal) => {\r\n  return {\r\n    type: SAVE_GOAL,\r\n    payload: {\r\n      goal,\r\n    },\r\n  };\r\n};\r\n\r\nexport const saveNewDay = (date) => {\r\n  return {\r\n    type: SAVE_NEW_DAY,\r\n    payload: {\r\n      date,\r\n    },\r\n  };\r\n};\r\n\r\nexport const editDay = (dayId, date) => {\r\n  return {\r\n    type: EDIT_DAY,\r\n    payload: {\r\n      dayId,\r\n      date,\r\n    },\r\n  };\r\n};\r\n\r\nexport const removeDay = (id) => {\r\n  return {\r\n    type: REMOVE_DAY,\r\n    payload: {\r\n      id,\r\n    },\r\n  };\r\n};\r\n\r\nexport const removeMeal = (dayId, mealType) => {\r\n  return {\r\n    type: REMOVE_MEAL,\r\n    payload: {\r\n      dayId,\r\n      mealType,\r\n    },\r\n  };\r\n};\r\n\r\nexport const removeIngredient = (dayId, mealType, name) => {\r\n  return {\r\n    type: REMOVE_INGREDIENT,\r\n    payload: {\r\n      dayId,\r\n      mealType,\r\n      name,\r\n    },\r\n  };\r\n};\r\n\r\nexport const saveNewMeal = (dayId, properties) => {\r\n  return {\r\n    type: SAVE_NEW_MEAL,\r\n    payload: {\r\n      dayId,\r\n      properties,\r\n    },\r\n  };\r\n};\r\n\r\nexport const editMeal = (dayId, properties, prevType) => {\r\n  return {\r\n    type: EDIT_MEAL,\r\n    payload: {\r\n      dayId,\r\n      properties,\r\n      prevType,\r\n    },\r\n  };\r\n};\r\n\r\nexport const recountSubstances = () => {\r\n  return {\r\n    type: RECOUNT_SUBSTANCES,\r\n  };\r\n};\r\n\r\nexport const removeBookmarkedMeal = (type, name) => {\r\n  return {\r\n    type: REMOVE_BOOKMARKED_MEAL,\r\n    payload: {\r\n      type,\r\n      name,\r\n    },\r\n  };\r\n};\r\n\r\nexport const addIngredient = (dayId, mealType, name, quantity, substances) => {\r\n  return {\r\n    type: ADD_INGREDIENT,\r\n    payload: {\r\n      dayId,\r\n      mealType,\r\n      name,\r\n      quantity,\r\n      substances,\r\n    },\r\n  };\r\n};\r\n\r\nexport const editIngredient = (dayId, mealType, name, quantity, substances, prevName) => {\r\n  return {\r\n    type: EDIT_INGREDIENT,\r\n    payload: {\r\n      dayId,\r\n      mealType,\r\n      name,\r\n      quantity,\r\n      substances,\r\n      prevName,\r\n    },\r\n  };\r\n};\r\n\r\nexport const bookmarkMeal = (name, substances, ingredients) => {\r\n  return {\r\n    type: BOOKMARK_MEAL,\r\n    payload: {\r\n      name,\r\n      substances,\r\n      ingredients,\r\n    },\r\n  };\r\n};\r\n\r\nexport const removeBookmarkedIngredient = (name) => {\r\n  return {\r\n    type: REMOVE_BOOKMARKED_INGREDIENT,\r\n    payload: {\r\n      name,\r\n    },\r\n  };\r\n};\r\n\r\nexport const bookmarkIngredient = (name, substances) => {\r\n  return {\r\n    type: BOOKMARK_INGREDIENT,\r\n    payload: {\r\n      name,\r\n      substances,\r\n    },\r\n  };\r\n};\r\n\r\nexport const register = (email, password, state, registerErr, registerSuccess) => (dispatch) => {\r\n  const newState = {\r\n    ...state,\r\n    loggedAs: email,\r\n  };\r\n  return axios\r\n    .post(`${urlOrigin}/api/register`, { email, password, state: newState })\r\n    .then((payload) => {\r\n      if (payload.data.error) {\r\n        registerErr(payload.data.error);\r\n        return;\r\n      }\r\n      dispatch({\r\n        type: USER_REGISTER,\r\n        payload,\r\n      });\r\n      registerSuccess();\r\n    })\r\n    .catch(() => {\r\n      registerErr('An error occured during processing your request. Check if you are online');\r\n    });\r\n};\r\n\r\nexport const login = (email, password, error, loginSuccess) => (dispatch) => {\r\n  return axios\r\n    .post(`${urlOrigin}/api/login`, {\r\n      email,\r\n      password,\r\n    })\r\n    .then((payload) => {\r\n      if (payload.data.error) {\r\n        error(payload.data.error);\r\n        return;\r\n      }\r\n      dispatch({\r\n        type: USER_LOGIN,\r\n        payload,\r\n      });\r\n      loginSuccess();\r\n    })\r\n    .catch(() => {\r\n      error('An error occured during processing your request. Check if you are online');\r\n    });\r\n};\r\n\r\nexport const logout = () => {\r\n  return {\r\n    type: USER_LOGOUT,\r\n  };\r\n};\r\n","import React from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport logo from '../assets/logo.svg';\r\nimport { routes } from '../routes';\r\nimport { logout as logoutAction } from '../actions';\r\n\r\nclass Header extends React.Component {\r\n  state = {\r\n    navOpened: false,\r\n  };\r\n\r\n  handleNavClick = () => {\r\n    this.setState((prevState) => ({\r\n      navOpened: !prevState.navOpened,\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    const { loggedAs, logout, history } = this.props;\r\n    const { navOpened } = this.state;\r\n    return (\r\n      <header>\r\n        <nav className=\"navbar\">\r\n          <div className=\"container\">\r\n            <div className=\"navbar-brand\">\r\n              <Link className=\"navbar-item\" to={routes.home}>\r\n                <img src={logo} alt=\"Diet menu planner logo\" />\r\n                <span className=\"navbar-title\">Diet menu planner</span>\r\n              </Link>\r\n              <button\r\n                type=\"button\"\r\n                className=\"navbar-burger burger\"\r\n                aria-label=\"menu\"\r\n                aria-expanded={`${navOpened}`}\r\n                data-target=\"mainNavbar\"\r\n                onClick={this.handleNavClick}\r\n              >\r\n                <span aria-hidden=\"true\" />\r\n                <span aria-hidden=\"true\" />\r\n                <span aria-hidden=\"true\" />\r\n              </button>\r\n            </div>\r\n            <div id=\"mainNavbar\" className={`navbar-menu ${navOpened ? 'active' : ''}`}>\r\n              <div className=\"navbar-start\">\r\n                <Link className=\"navbar-item\" to={routes.dashboard}>\r\n                  Dashboard\r\n                </Link>\r\n                <Link className=\"navbar-item\" to={routes.meals}>\r\n                  Meals\r\n                </Link>\r\n                <Link className=\"navbar-item\" to={routes.ingredients}>\r\n                  Ingredients\r\n                </Link>\r\n                <Link className=\"navbar-item\" to={routes.config}>\r\n                  Configuration\r\n                </Link>\r\n              </div>\r\n              <div className=\"navbar-end\">\r\n                <div className=\"navbar-item\">\r\n                  <div className=\"buttons\">\r\n                    <Link className=\"button is-primary\" to={routes.register}>\r\n                      Register\r\n                    </Link>\r\n                    {!loggedAs && (\r\n                      <Link className=\"button is-light\" to={routes.login}>\r\n                        Log in\r\n                      </Link>\r\n                    )}\r\n                    {loggedAs && (\r\n                      <button\r\n                        onClick={() => {\r\n                          logout();\r\n                          history.push(routes.dashboard);\r\n                        }}\r\n                        type=\"button\"\r\n                        className=\"button is-light\"\r\n                      >\r\n                        Log out\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </nav>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  logout: () => dispatch(logoutAction()),\r\n});\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { loggedAs } = state;\r\n  return {\r\n    loggedAs,\r\n  };\r\n};\r\n\r\nHeader.propTypes = {\r\n  logout: PropTypes.func.isRequired,\r\n  loggedAs: PropTypes.string,\r\n  history: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n};\r\n\r\nHeader.defaultProps = {\r\n  loggedAs: '',\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Header));\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { login as loginAction } from '../actions';\r\nimport { routes } from '../routes';\r\n\r\nclass Login extends React.Component {\r\n  state = {\r\n    error: '',\r\n    email: '',\r\n    password: '',\r\n    loginError: false,\r\n  };\r\n\r\n  handleInputChange = (e) => {\r\n    const [, attr] = e.target.getAttribute('id').split('-');\r\n    this.setState({\r\n      error: '',\r\n      loginError: false,\r\n      [attr]: e.target.value,\r\n    });\r\n  };\r\n\r\n  handleLoginButton = () => {\r\n    const { email, password } = this.state;\r\n    const { login, history } = this.props;\r\n    if (!email || !password) {\r\n      this.setState({\r\n        error: 'Provide correct data and try again',\r\n      });\r\n      return;\r\n    }\r\n\r\n    login(\r\n      email,\r\n      password,\r\n      (e) => {\r\n        this.setState({ loginError: e });\r\n      },\r\n      () => {\r\n        history.push(routes.dashboard);\r\n      },\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { email, password, error, loginError } = this.state;\r\n    return (\r\n      <div className=\"card-form\">\r\n        <div className=\"card\">\r\n          <div className=\"card-content has-text-centered\">\r\n            <p className=\"title\">Log in</p>\r\n            <p className=\"subtitle\">\r\n              Please, log in filling your e-mail address and password given by registration.\r\n            </p>\r\n            <div className=\"field has-text-left\">\r\n              <p className=\"control has-icons-left has-icons-right\">\r\n                <label className=\"label\" htmlFor=\"user-email\">\r\n                  User e-mail address\r\n                  <input\r\n                    id=\"user-email\"\r\n                    className=\"input\"\r\n                    type=\"email\"\r\n                    placeholder=\"Email\"\r\n                    value={email}\r\n                    onChange={this.handleInputChange}\r\n                  />\r\n                  <span className=\"icon is-small is-left\">\r\n                    <i className=\"fas fa-envelope\" />\r\n                  </span>\r\n                  <span className=\"icon is-small is-right\">\r\n                    <i className=\"fas fa-check\" />\r\n                  </span>\r\n                </label>\r\n              </p>\r\n            </div>\r\n            <div className=\"field has-text-left\">\r\n              <p className=\"control has-icons-left\">\r\n                <label className=\"label\" htmlFor=\"user-password\">\r\n                  User password\r\n                  <input\r\n                    id=\"user-password\"\r\n                    className=\"input\"\r\n                    type=\"password\"\r\n                    placeholder=\"Password\"\r\n                    value={password}\r\n                    onChange={this.handleInputChange}\r\n                  />\r\n                  <span className=\"icon is-small is-left\">\r\n                    <i className=\"fas fa-lock\" />\r\n                  </span>\r\n                </label>\r\n              </p>\r\n              {error && <p className=\"has-text-danger\">{error}</p>}\r\n              {loginError && <p className=\"has-text-danger\">{loginError}</p>}\r\n            </div>\r\n            <div className=\"field\">\r\n              <p className=\"control\">\r\n                <button\r\n                  className=\"button is-success\"\r\n                  type=\"submit\"\r\n                  onClick={this.handleLoginButton}\r\n                >\r\n                  Login\r\n                </button>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nLogin.propTypes = {\r\n  login: PropTypes.func.isRequired,\r\n  history: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  login: (email, password, error, loginSuccess) =>\r\n    dispatch(loginAction(email, password, error, loginSuccess)),\r\n});\r\n\r\nexport default withRouter(connect(null, mapDispatchToProps)(Login));\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { register as registerAction } from '../actions';\r\nimport { routes } from '../routes';\r\n\r\nclass Register extends React.Component {\r\n  state = {\r\n    errorPswd: false,\r\n    errorEmail: false,\r\n    password: '',\r\n    password2: '',\r\n    email: '',\r\n    registerError: false,\r\n  };\r\n\r\n  handleInputChange = (e) => {\r\n    const [, attr] = e.target.getAttribute('id').split('-');\r\n    if (attr === 'email') {\r\n      this.setState({\r\n        errorEmail: false,\r\n        registerError: false,\r\n        [attr]: e.target.value,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      errorPswd: false,\r\n      [attr]: e.target.value,\r\n    });\r\n  };\r\n\r\n  handleInputBlur = (e) => {\r\n    const { password, password2, email } = this.state;\r\n    const [, attr] = e.target.getAttribute('id').split('-');\r\n    if (attr === 'email' && !/^\\w+@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/.test(email) && email) {\r\n      this.setState({\r\n        errorEmail: true,\r\n      });\r\n      return;\r\n    }\r\n    if (\r\n      (attr === 'password2' || (attr === 'password' && password && password2)) &&\r\n      (password !== password2 || password.length < 8 || password2.length < 8)\r\n    ) {\r\n      this.setState({\r\n        errorPswd: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  handleRegisterButton = () => {\r\n    const { errorEmail, errorPswd, email, password, password2 } = this.state;\r\n    const { state, register, history } = this.props;\r\n    if (errorEmail || errorPswd || !email || !password || !password2) {\r\n      return;\r\n    }\r\n\r\n    register(\r\n      email,\r\n      password,\r\n      state,\r\n      (e) => {\r\n        this.setState({ registerError: e });\r\n      },\r\n      () => {\r\n        history.push(routes.dashboard);\r\n      },\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { password, password2, email, errorPswd, errorEmail, registerError } = this.state;\r\n    return (\r\n      <div className=\"card-form\">\r\n        <div className=\"card\">\r\n          <div className=\"card-content has-text-centered\">\r\n            <p className=\"title\">Registration</p>\r\n            <p className=\"subtitle\">\r\n              You only need to provide e-mail address and password to create account and\r\n              automatically log in. All days and meals you provided before registration will be\r\n              added to your accout.\r\n            </p>\r\n            <div className=\"field has-text-left\">\r\n              <p className=\"control has-icons-left has-icons-right\">\r\n                <label className=\"label\" htmlFor=\"user-email\">\r\n                  User e-mail address\r\n                  <input\r\n                    className=\"input\"\r\n                    id=\"user-email\"\r\n                    type=\"email\"\r\n                    placeholder=\"Email\"\r\n                    value={email}\r\n                    onChange={this.handleInputChange}\r\n                    onBlur={this.handleInputBlur}\r\n                  />\r\n                  <span className=\"icon is-small is-left\">\r\n                    <i className=\"fas fa-envelope\" />\r\n                  </span>\r\n                </label>\r\n              </p>\r\n              {errorEmail && <p className=\"has-text-danger\">This is not valid email address</p>}\r\n            </div>\r\n            <div className=\"field has-text-left\">\r\n              <p className=\"control has-icons-left\">\r\n                <label className=\"label\" htmlFor=\"user-password\">\r\n                  User password\r\n                  <input\r\n                    className=\"input\"\r\n                    id=\"user-password\"\r\n                    type=\"password\"\r\n                    placeholder=\"Enter password\"\r\n                    value={password}\r\n                    onChange={this.handleInputChange}\r\n                    onBlur={this.handleInputBlur}\r\n                  />\r\n                  <span className=\"icon is-small is-left\">\r\n                    <i className=\"fas fa-lock\" />\r\n                  </span>\r\n                </label>\r\n              </p>\r\n            </div>\r\n            <div className=\"field has-text-left\">\r\n              <p className=\"control has-icons-left\">\r\n                <label className=\"label\" htmlFor=\"user-password2\">\r\n                  Confirm password\r\n                  <input\r\n                    className=\"input\"\r\n                    id=\"user-password2\"\r\n                    type=\"password\"\r\n                    placeholder=\"Repeat password\"\r\n                    value={password2}\r\n                    onChange={this.handleInputChange}\r\n                    onBlur={this.handleInputBlur}\r\n                  />\r\n                  <span className=\"icon is-small is-left\">\r\n                    <i className=\"fas fa-lock\" />\r\n                  </span>\r\n                </label>\r\n              </p>\r\n              {errorPswd && (\r\n                <p className=\"has-text-danger\">\r\n                  Password must match in both fields and consist at least of 8 characters\r\n                </p>\r\n              )}\r\n            </div>\r\n            <div className=\"field\">\r\n              <p className=\"control\">\r\n                <button\r\n                  className=\"button is-success\"\r\n                  type=\"submit\"\r\n                  onClick={this.handleRegisterButton}\r\n                >\r\n                  Register\r\n                </button>\r\n              </p>\r\n              {registerError && <p className=\"has-text-danger\">{registerError}</p>}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nRegister.propTypes = {\r\n  register: PropTypes.func.isRequired,\r\n  history: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n  state: PropTypes.shape({\r\n    days: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n    savedMeals: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n    savedIngredients: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n    history: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n    config: PropTypes.shape({\r\n      BMR: PropTypes.number.isRequired,\r\n      goal: PropTypes.number.isRequired,\r\n      ratioP: PropTypes.number.isRequired,\r\n      ratioF: PropTypes.number.isRequired,\r\n      ratioC: PropTypes.number.isRequired,\r\n      Pmin: PropTypes.number.isRequired,\r\n      Pmax: PropTypes.number.isRequired,\r\n      Fmin: PropTypes.number.isRequired,\r\n      Fmax: PropTypes.number.isRequired,\r\n      Cmin: PropTypes.number.isRequired,\r\n      Cmax: PropTypes.number.isRequired,\r\n    }),\r\n    loggedAs: PropTypes.string,\r\n  }).isRequired,\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  register: (email, password, state, registerErr, registerSuccess) =>\r\n    dispatch(registerAction(email, password, state, registerErr, registerSuccess)),\r\n});\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    state,\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Register));\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Card = ({ children, title, subtitle }) => (\r\n  <>\r\n    <div className=\"card\">\r\n      <h1 className=\"title has-text-centered\">{title}</h1>\r\n      <p className=\"subtitle has-text-centered\">{subtitle}</p>\r\n    </div>\r\n    <div className=\"card\">\r\n      <div className=\"card-content\">{children}</div>\r\n    </div>\r\n    <div className=\"has-text-centered\">\r\n      <a href=\"https://world.openfoodfacts.org/\">Powered By OpenFoodFacts.org</a>\r\n    </div>\r\n  </>\r\n);\r\n\r\nCard.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n  subtitle: PropTypes.string.isRequired,\r\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]).isRequired,\r\n};\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst RemoveModal = ({ title, subtitle, click }) => (\r\n  <div className=\"modal\">\r\n    <div className=\"modal-background\" />\r\n    <div className=\"modal-card\">\r\n      <header className=\"modal-card-head\">\r\n        <p className=\"modal-card-title\">{title}</p>\r\n      </header>\r\n      <section className=\"modal-card-body\">\r\n        <p className=\"subtitle\">{subtitle}</p>\r\n\r\n        <button type=\"button\" onClick={() => click(true)} className=\"button is-danger\">\r\n          Delete\r\n        </button>\r\n        <button type=\"button\" onClick={() => click(false)} className=\"button is-success\">\r\n          Cancel\r\n        </button>\r\n      </section>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nRemoveModal.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n  subtitle: PropTypes.string.isRequired,\r\n  click: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default RemoveModal;\r\n","import axios from 'axios';\r\n\r\nconst floorToOne = (n) => {\r\n  const temp = Math.floor(n * 10);\r\n  return temp / 10;\r\n};\r\n\r\nconst saveDB = (state) => {\r\n  const urlOrigin = window.location.origin;\r\n  let token = localStorage.getItem('token');\r\n  if (Array.isArray(token)) {\r\n    token = token.join('');\r\n  }\r\n\r\n  if (token) {\r\n    axios({\r\n      url: `${urlOrigin}/api/`,\r\n      method: 'post',\r\n      data: {\r\n        state,\r\n      },\r\n      headers: {\r\n        'x-auth-token': token,\r\n        'Content-Type': 'application/json',\r\n      },\r\n    });\r\n  }\r\n  return state;\r\n};\r\n\r\nexport { floorToOne, saveDB };\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport RemoveModal from './RemoveModal';\r\nimport { removeBookmarkedMeal as removeBookmarkedMealAction } from '../actions';\r\nimport { floorToOne } from '../utils';\r\n\r\nclass MealSnippet extends React.Component {\r\n  state = {\r\n    removeModalShow: false,\r\n  };\r\n\r\n  handleRemoveButton = (e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      removeModalShow: true,\r\n    });\r\n  };\r\n\r\n  handleBackButton = () => {\r\n    this.setState({\r\n      removeModalShow: false,\r\n    });\r\n  };\r\n\r\n  handleRemoveModal = (sure) => {\r\n    const { type, name, removeBookmarkedMeal } = this.props;\r\n    if (sure) {\r\n      removeBookmarkedMeal(type, name);\r\n    }\r\n    this.setState({\r\n      removeModalShow: false,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { name, type, time, substances, ingredients, isRemovable } = this.props;\r\n    const { removeModalShow } = this.state;\r\n    const thetime = new Date(time);\r\n    const ingredientsList = ingredients.map((i) => i.name).join(', ');\r\n    return (\r\n      <>\r\n        {isRemovable && removeModalShow && (\r\n          <RemoveModal\r\n            title=\"Are you sure?\"\r\n            subtitle={`Do you really want to delete saved meal called: ${name}`}\r\n            click={this.handleRemoveModal}\r\n          />\r\n        )}\r\n        <div className=\"box meal-snippet has-text-grey-darker\">\r\n          <h3 className=\"title is-size-5\">{name}</h3>\r\n          {time && (\r\n            <h4 className=\"subtitle has-text-grey is-size-6\">\r\n              {`${type} ${\r\n                thetime.getHours().toString().length === 2\r\n                  ? thetime.getHours()\r\n                  : `0${thetime.getHours()}`\r\n              }:${\r\n                thetime.getMinutes().toString().length === 2\r\n                  ? thetime.getMinutes()\r\n                  : `0${thetime.getMinutes()}`\r\n              } `}\r\n            </h4>\r\n          )}\r\n          {isRemovable && <h4 className=\"subtitle has-text-grey is-size-6\">{ingredientsList}</h4>}\r\n          {isRemovable && (\r\n            <a href=\"/\" onClick={this.handleRemoveButton} className=\"has-text-danger\">\r\n              Remove\r\n            </a>\r\n          )}\r\n          <footer className=\"is-size-7\">\r\n            <p>\r\n              <span>\r\n                Proteins:\r\n                <b> {substances.proteins ? floorToOne(substances.proteins) : '-- '}g</b>\r\n              </span>\r\n              <span>\r\n                Fats:\r\n                <b> {substances.fats ? floorToOne(substances.fats) : '-- '}g</b>\r\n              </span>\r\n              <span>\r\n                Carbs:\r\n                <b> {substances.carbs ? floorToOne(substances.carbs) : '-- '}g</b>\r\n              </span>\r\n              <span>\r\n                kcal:\r\n                <b> {substances.calories ? floorToOne(substances.calories) : '-- '}kcal</b>\r\n              </span>\r\n            </p>\r\n          </footer>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  removeBookmarkedMeal: (type, name) => dispatch(removeBookmarkedMealAction(type, name)),\r\n});\r\n\r\nMealSnippet.propTypes = {\r\n  time: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  type: PropTypes.string,\r\n  removeBookmarkedMeal: PropTypes.func.isRequired,\r\n  isRemovable: PropTypes.bool,\r\n  ingredients: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      name: PropTypes.string.isRequired,\r\n      type: PropTypes.string.isRequired,\r\n      substrances: PropTypes.object.isRequired,\r\n    }),\r\n  ),\r\n  substances: PropTypes.shape({\r\n    proteins: PropTypes.number.isRequired,\r\n    fats: PropTypes.number.isRequired,\r\n    carbs: PropTypes.number.isRequired,\r\n    calories: PropTypes.number.isRequired,\r\n  }).isRequired,\r\n};\r\n\r\nMealSnippet.defaultProps = {\r\n  isRemovable: false,\r\n  ingredients: [],\r\n  type: '',\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(MealSnippet);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport DatePicker from 'react-datepicker';\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\nimport PropTypes from 'prop-types';\r\nimport { editDay as editDayAction, saveNewDay as saveNewDayAction } from '../actions';\r\n\r\nclass DayModal extends React.Component {\r\n  state = {\r\n    date: null,\r\n    isSelected: false,\r\n    error: false,\r\n    dateExists: false,\r\n  };\r\n\r\n  handleDateChange = (date) => {\r\n    const { days } = this.props;\r\n    const dates = days.map((d) => {\r\n      return new Date(d.date).getTime();\r\n    });\r\n    if (dates.includes(new Date(date).getTime())) {\r\n      this.setState({\r\n        date: null,\r\n        dateExists: true,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      date,\r\n      isSelected: true,\r\n      dateExists: false,\r\n      error: false,\r\n    });\r\n  };\r\n\r\n  handleSaveDay = () => {\r\n    const { date, isSelected } = this.state;\r\n    const { saveNewDay, close, isEdit, editDay, dayId } = this.props;\r\n\r\n    if (!isSelected) {\r\n      this.setState({\r\n        error: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (isEdit) {\r\n      this.setState({\r\n        isSelected: false,\r\n        dateExists: false,\r\n      });\r\n      editDay(dayId, date);\r\n      close();\r\n      return;\r\n    }\r\n\r\n    this.setState({\r\n      isSelected: false,\r\n      dateExists: false,\r\n    });\r\n\r\n    saveNewDay(date);\r\n    close();\r\n  };\r\n\r\n  render() {\r\n    const { date, error, dateExists } = this.state;\r\n    const { isEdit, close } = this.props;\r\n\r\n    return (\r\n      <div className=\"modal\">\r\n        <div className=\"modal-background\"> </div>\r\n        <div className=\"modal-card\">\r\n          <header className=\"modal-card-head\">\r\n            <h1 className=\"is-size-4\">{isEdit ? 'Edit day' : 'Add new day'}</h1>\r\n          </header>\r\n          <section>\r\n            <div className=\"control\">\r\n              <h2 className=\"is-size-5 has-text-weight-semibold\">Select date:</h2>\r\n              <DatePicker\r\n                className=\"input\"\r\n                selected={date}\r\n                onChange={this.handleDateChange}\r\n                shouldCloseOnSelect\r\n              />\r\n            </div>\r\n            {error && <p className=\"has-text-danger\">Select date before saving</p>}\r\n            {dateExists && <p className=\"has-text-danger\">This day is already set</p>}\r\n            <br />\r\n            <button type=\"submit\" className=\"button is-success\" onClick={close}>\r\n              Back\r\n            </button>\r\n            <button type=\"submit\" className=\"button is-info\" onClick={this.handleSaveDay}>\r\n              Save\r\n            </button>\r\n          </section>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  editDay: (dayId, date) => dispatch(editDayAction(dayId, date)),\r\n  saveNewDay: (date) => dispatch(saveNewDayAction(date)),\r\n});\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { days } = state;\r\n  return {\r\n    days,\r\n    state,\r\n  };\r\n};\r\n\r\nDayModal.propTypes = {\r\n  editDay: PropTypes.func.isRequired,\r\n  saveNewDay: PropTypes.func.isRequired,\r\n  dayId: PropTypes.number.isRequired,\r\n  isEdit: PropTypes.bool.isRequired,\r\n  close: PropTypes.func.isRequired,\r\n  days: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DayModal);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { routes } from '../routes';\r\nimport { removeDay as removeDayAction } from '../actions';\r\nimport RemoveModal from './RemoveModal';\r\nimport DayModal from './DayModal';\r\n\r\nclass DayNote extends React.Component {\r\n  state = {\r\n    removeModalShow: false,\r\n    editModalShow: false,\r\n  };\r\n\r\n  handleEditButton = (e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      editModalShow: true,\r\n    });\r\n  };\r\n\r\n  handleRemoveButton = (e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      removeModalShow: true,\r\n    });\r\n  };\r\n\r\n  handleBackButton = () => {\r\n    this.setState({\r\n      editModalShow: false,\r\n    });\r\n  };\r\n\r\n  handleRemoveModal = (sure) => {\r\n    const { identity, removeDay } = this.props;\r\n    if (sure) {\r\n      removeDay(identity);\r\n    }\r\n    this.setState({\r\n      removeModalShow: false,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { children, path, date, substances, config, identity } = this.props;\r\n    const { removeModalShow, editModalShow } = this.state;\r\n    const numdate = new Date(date);\r\n    return (\r\n      <>\r\n        {removeModalShow && (\r\n          <RemoveModal\r\n            title=\"Are you sure?\"\r\n            subtitle=\"Do you really want to remove this day?\"\r\n            click={this.handleRemoveModal}\r\n          />\r\n        )}\r\n        {editModalShow && (\r\n          <DayModal\r\n            title=\"Change day's date\"\r\n            subtitle=\"Enter the new date for this day\"\r\n            date={date}\r\n            close={this.handleBackButton}\r\n            dayId={identity}\r\n            isEdit\r\n          />\r\n        )}\r\n        <div className=\"box day-box\">\r\n          <header className=\"card-header\">\r\n            <h2 className=\"card-header-title is-size-4\">\r\n              {`${numdate.getFullYear()}.${\r\n                numdate.getMonth().toString().length === 2\r\n                  ? numdate.getMonth() + 1\r\n                  : `0${numdate.getMonth() + 1}`\r\n              }.${\r\n                numdate.getDate().toString().length === 2\r\n                  ? numdate.getDate()\r\n                  : `0${numdate.getDate()}`\r\n              }`}\r\n            </h2>\r\n            <div className=\"is-pulled-right has-text-right\">\r\n              <a href={`/dashboard/days${path}`} className=\"card-header-item\">\r\n                Show\r\n              </a>\r\n              <a\r\n                href={routes.dashboard}\r\n                onClick={this.handleEditButton}\r\n                className=\"card-header-item\"\r\n              >\r\n                Edit\r\n              </a>\r\n              <a\r\n                href={routes.dashboard}\r\n                onClick={this.handleRemoveButton}\r\n                className=\"card-header-item has-text-danger\"\r\n              >\r\n                Remove\r\n              </a>\r\n            </div>\r\n          </header>\r\n          <div className=\"card-content\">\r\n            <div className=\"content\">{children}</div>\r\n          </div>\r\n          <footer className=\"card-footer ingredients\">\r\n            <p className=\"card-footer-item is-size-7\">\r\n              Proteins:\r\n              {substances.proteins < config.Pmin && (\r\n                <strong className=\"has-text-danger\"> {substances.proteins}g (L)</strong>\r\n              )}\r\n              {substances.proteins > config.Pmax && (\r\n                <strong className=\"has-text-danger\"> {substances.proteins}g (H)</strong>\r\n              )}\r\n              {substances.proteins > config.Pmin && substances.proteins < config.Pmax && (\r\n                <strong> {substances.proteins}g</strong>\r\n              )}\r\n            </p>\r\n            <p className=\"card-footer-item is-size-7\">\r\n              Fats:\r\n              {substances.fats < config.Fmin && (\r\n                <strong className=\"has-text-danger\"> {substances.fats}g (L)</strong>\r\n              )}\r\n              {substances.fats > config.Fmax && (\r\n                <strong className=\"has-text-danger\"> {substances.fats}g (H)</strong>\r\n              )}\r\n              {substances.fats > config.Fmin && substances.fats < config.Fmax && (\r\n                <strong> {substances.fats}g</strong>\r\n              )}\r\n            </p>\r\n            <p className=\"card-footer-item is-size-7\">\r\n              Carbs:\r\n              {substances.carbs < config.Cmin && (\r\n                <strong className=\"has-text-danger\"> {substances.carbs}g (L)</strong>\r\n              )}\r\n              {substances.carbs > config.Cmax && (\r\n                <strong className=\"has-text-danger\"> {substances.carbs}g (H)</strong>\r\n              )}\r\n              {substances.carbs > config.Cmin && substances.carbs < config.Cmax && (\r\n                <strong> {substances.carbs}g</strong>\r\n              )}\r\n            </p>\r\n            <p className=\"card-footer-item is-size-7\">\r\n              Calories:\r\n              {substances.calories < config.BMR - 100 + 300 * config.goal && (\r\n                <strong className=\"has-text-danger\"> {substances.calories}g (L)</strong>\r\n              )}\r\n              {substances.calories > config.BMR + 100 + 300 * config.goal && (\r\n                <strong className=\"has-text-danger\"> {substances.calories}g (H)</strong>\r\n              )}\r\n              {substances.calories > config.BMR - 100 + 300 * config.goal &&\r\n                substances.calories < config.BMR + 100 + 300 * config.goal && (\r\n                  <strong> {substances.calories} kcal</strong>\r\n                )}\r\n            </p>\r\n          </footer>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  removeDay: (id) => dispatch(removeDayAction(id)),\r\n});\r\n\r\nDayNote.propTypes = {\r\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]).isRequired,\r\n  date: PropTypes.string.isRequired,\r\n  path: PropTypes.string.isRequired,\r\n  identity: PropTypes.number.isRequired,\r\n  removeDay: PropTypes.func.isRequired,\r\n  substances: PropTypes.shape({\r\n    proteins: PropTypes.number,\r\n    fats: PropTypes.number,\r\n    carbs: PropTypes.number,\r\n    calories: PropTypes.number,\r\n  }),\r\n  config: PropTypes.shape({\r\n    Pmin: PropTypes.number.isRequired,\r\n    Pmax: PropTypes.number.isRequired,\r\n    Fmin: PropTypes.number.isRequired,\r\n    Fmax: PropTypes.number.isRequired,\r\n    Cmin: PropTypes.number.isRequired,\r\n    Cmax: PropTypes.number.isRequired,\r\n    BMR: PropTypes.number.isRequired,\r\n    goal: PropTypes.number.isRequired,\r\n  }).isRequired,\r\n};\r\n\r\nDayNote.defaultProps = {\r\n  substances: {\r\n    proteins: 0,\r\n    fats: 0,\r\n    carbs: 0,\r\n    calories: 0,\r\n  },\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(DayNote);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport Card from '../templates/Card';\r\nimport MealSnippet from '../components/MealSnippet';\r\nimport DayNote from '../components/DayNote';\r\nimport DayModal from '../components/DayModal';\r\n\r\nclass Dashboard extends React.Component {\r\n  state = {\r\n    modalOpened: false,\r\n  };\r\n\r\n  handleAddNew = (e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      modalOpened: true,\r\n    });\r\n  };\r\n\r\n  handleCloseModal = () => {\r\n    this.setState({\r\n      modalOpened: false,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { days, config, loggedAs } = this.props;\r\n    const { modalOpened } = this.state;\r\n    const dayList = !days.length ? (\r\n      <p className=\"subtitle is-size-4 has-text-centered\">No days in menu yet</p>\r\n    ) : (\r\n      days.map((d) => {\r\n        const mealList = !d.meals.length ? (\r\n          <p className=\"subtitle is-size-4 has-text-centered\">No meals in this day yet</p>\r\n        ) : (\r\n          d.meals.map((m) => (\r\n            <MealSnippet\r\n              key={`${m.name}-${d.id}`}\r\n              type={m.type}\r\n              name={m.name}\r\n              time={m.time}\r\n              substances={m.substances}\r\n            />\r\n          ))\r\n        );\r\n        return (\r\n          <>\r\n            <DayNote\r\n              key={`${d.id}`}\r\n              identity={d.id}\r\n              date={d.date}\r\n              path={d.path}\r\n              substances={d.substances}\r\n              config={config}\r\n            >\r\n              {mealList}\r\n            </DayNote>\r\n          </>\r\n        );\r\n      })\r\n    );\r\n    return (\r\n      <>\r\n        {modalOpened && <DayModal days={days} close={this.handleCloseModal} />}\r\n        <Card\r\n          title=\"Dashboard\"\r\n          subtitle={`${loggedAs && `Logged as ${loggedAs}. `} Organize your meals in each day`}\r\n        >\r\n          <div className=\"add-new has-text-centered\">\r\n            <p className=\"subtitle has-text-centered\">Add one day to menu:</p>\r\n            <button type=\"button\" className=\"button\" onClick={this.handleAddNew}>\r\n              Add day\r\n            </button>\r\n          </div>\r\n          {dayList}\r\n        </Card>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { days, config, loggedAs } = state;\r\n  return {\r\n    days,\r\n    config,\r\n    loggedAs,\r\n  };\r\n};\r\n\r\nDashboard.propTypes = {\r\n  days: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  config: PropTypes.shape({\r\n    Pmin: PropTypes.number.isRequired,\r\n    Pmax: PropTypes.number.isRequired,\r\n    Fmin: PropTypes.number.isRequired,\r\n    Fmax: PropTypes.number.isRequired,\r\n    Cmin: PropTypes.number.isRequired,\r\n    Cmax: PropTypes.number.isRequired,\r\n    BMR: PropTypes.number.isRequired,\r\n    goal: PropTypes.number.isRequired,\r\n  }).isRequired,\r\n};\r\n\r\nexport default connect(mapStateToProps)(Dashboard);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport Card from '../templates/Card';\r\nimport MealSnippet from '../components/MealSnippet';\r\n\r\nconst SavedMeals = ({ savedMeals }) => {\r\n  const meals = savedMeals.map((m) => (\r\n    <MealSnippet\r\n      key={`${m.name}-${m.type}`}\r\n      name={m.name}\r\n      substances={m.substances}\r\n      ingredients={m.ingredients}\r\n      path={m.path}\r\n      isRemovable\r\n    />\r\n  ));\r\n\r\n  return (\r\n    <Card title=\"Saved Meals\" subtitle=\"You can organize here your saved meals\">\r\n      {meals.length === 0 && (\r\n        <p className=\"subtitle is-size-4 has-text-centered\">No saved meals at the moment</p>\r\n      )}\r\n      {meals}\r\n    </Card>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { savedMeals } = state;\r\n  return { savedMeals };\r\n};\r\n\r\nSavedMeals.propTypes = {\r\n  savedMeals: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n};\r\n\r\nexport default connect(mapStateToProps)(SavedMeals);\r\n","/* eslint-disable react/destructuring-assignment */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport axios from 'axios';\r\nimport {\r\n  addIngredient as addIngredientAction,\r\n  editIngredient as editIngredientAction,\r\n  recountSubstances as recountSubstancesAction,\r\n} from '../actions';\r\nimport { floorToOne } from '../utils';\r\n\r\nclass IngredientModal extends React.Component {\r\n  state = {\r\n    name: this.props.name || '',\r\n    quantity: this.props.quantity || 0,\r\n    proteins: this.props.substances.proteins || 0,\r\n    fats: this.props.substances.fats || 0,\r\n    carbs: this.props.substances.carbs || 0,\r\n    calories: this.props.substances.calories || 0,\r\n    error: false,\r\n    nameExists: false,\r\n    searchOpened: false,\r\n    searchField: '',\r\n    searchError: false,\r\n    searchServerFail: false,\r\n    searched: [],\r\n  };\r\n\r\n  prevName = (() => {\r\n    const { name } = this.props;\r\n    return name;\r\n  })();\r\n\r\n  handleInputChange = (e) => {\r\n    const { ingredientNames } = this.props;\r\n    const [, value] = e.target.getAttribute('id').split('-');\r\n    if (value === 'name' && !ingredientNames.includes(e.target.value)) {\r\n      this.setState({\r\n        [value]: e.target.value,\r\n        nameExists: false,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (value === 'name' && ingredientNames.includes(e.target.value)) {\r\n      this.setState({\r\n        [value]: e.target.value,\r\n        nameExists: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (value === 'search') {\r\n      this.setState({\r\n        searchField: e.target.value,\r\n        searchError: false,\r\n      });\r\n    }\r\n\r\n    this.setState({\r\n      [value]: +e.target.value,\r\n    });\r\n  };\r\n\r\n  handleSaveButton = () => {\r\n    const { name, quantity, proteins, fats, carbs, calories, nameExists } = this.state;\r\n    const {\r\n      ingredientNames,\r\n      addIngredient,\r\n      dayId,\r\n      mealType,\r\n      close,\r\n      isEdit,\r\n      editIngredient,\r\n      recountSubstances,\r\n    } = this.props;\r\n\r\n    if (ingredientNames.includes(name) && !isEdit) {\r\n      this.setState({\r\n        nameExists: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (\r\n      name &&\r\n      quantity &&\r\n      proteins >= 0 &&\r\n      fats >= 0 &&\r\n      carbs >= 0 &&\r\n      calories &&\r\n      !nameExists &&\r\n      !isEdit\r\n    ) {\r\n      this.setState({\r\n        error: false,\r\n        nameExists: false,\r\n      });\r\n\r\n      addIngredient(dayId, mealType, name, floorToOne(quantity), {\r\n        proteins: floorToOne((proteins * quantity) / 100),\r\n        fats: floorToOne((fats * quantity) / 100),\r\n        carbs: floorToOne((carbs * quantity) / 100),\r\n        calories: floorToOne((calories * quantity) / 100),\r\n      });\r\n      recountSubstances();\r\n      close();\r\n    }\r\n\r\n    if (quantity && proteins >= 0 && fats >= 0 && carbs >= 0 && calories && !nameExists && isEdit) {\r\n      this.setState({\r\n        error: false,\r\n        nameExists: false,\r\n      });\r\n\r\n      editIngredient(\r\n        dayId,\r\n        mealType,\r\n        name,\r\n        floorToOne(quantity),\r\n        {\r\n          proteins: floorToOne((proteins * quantity) / 100),\r\n          fats: floorToOne((fats * quantity) / 100),\r\n          carbs: floorToOne((carbs * quantity) / 100),\r\n          calories: floorToOne((calories * quantity) / 100),\r\n        },\r\n        this.prevName,\r\n      );\r\n      recountSubstances();\r\n      close();\r\n    }\r\n    this.setState({\r\n      error: true,\r\n    });\r\n  };\r\n\r\n  handleFromBookmarks = (e) => {\r\n    const { savedIngredients } = this.props;\r\n    const { value } = e.target;\r\n    const [ingredient] = savedIngredients.filter((i) => i.name === value);\r\n    if (ingredient && value) {\r\n      this.setState({\r\n        name: value,\r\n        proteins: ingredient.substances.proteins,\r\n        fats: ingredient.substances.fats,\r\n        carbs: ingredient.substances.carbs,\r\n        calories: ingredient.substances.calories,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      name: '',\r\n      proteins: 0,\r\n      fats: 0,\r\n      carbs: 0,\r\n      calories: 0,\r\n    });\r\n  };\r\n\r\n  handleOpenSearch = () => {\r\n    this.setState((prevState) => ({\r\n      searchOpened: !prevState.searchOpened,\r\n      searchServerFail: false,\r\n    }));\r\n  };\r\n\r\n  handleSearchProduct = () => {\r\n    const { searchField } = this.state;\r\n    if (searchField.length < 3) {\r\n      this.setState({ searchError: true });\r\n      return;\r\n    }\r\n\r\n    const urlOrigin = window.location.origin;\r\n    const ua = window.navigator.oscpu;\r\n\r\n    axios({\r\n      url: `${urlOrigin}/api/search`,\r\n      method: 'post',\r\n      data: {\r\n        search: searchField,\r\n        ua,\r\n      },\r\n    })\r\n      .then((data) => {\r\n        this.setState((prevState) => ({\r\n          searchServerFail: false,\r\n          searchError: false,\r\n          searched: data.data.products.map((p, i) => ({\r\n            id: +i,\r\n            name: p.generic_name || p.product_name || 'No name',\r\n            img: p.image_small_url,\r\n            substances: {\r\n              proteins: +p.nutriments.proteins_100g || 0,\r\n              fats: +p.nutriments.fat_100g || 0,\r\n              carbs: +p.nutriments.carbohydrates_100g || 0,\r\n              calories: +p.nutriments['energy-kcal_value'] || 0,\r\n            },\r\n          })),\r\n        }));\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n        this.setState({\r\n          searchServerFail: true,\r\n        });\r\n      });\r\n  };\r\n\r\n  handleUseProduct = (e) => {\r\n    e.preventDefault();\r\n    const id = +e.target.getAttribute('data-id');\r\n    const products = this.state.searched;\r\n    const [theProduct] = products.filter((p) => id === p.id);\r\n    this.setState({\r\n      name: theProduct.name,\r\n      proteins: +theProduct.substances.proteins,\r\n      fats: +theProduct.substances.fats,\r\n      carbs: +theProduct.substances.carbs,\r\n      calories: +theProduct.substances.calories,\r\n      searchOpened: false,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { close, savedIngredients, isEdit } = this.props;\r\n    const {\r\n      name,\r\n      quantity,\r\n      proteins,\r\n      fats,\r\n      carbs,\r\n      calories,\r\n      error,\r\n      nameExists,\r\n      searchOpened,\r\n      searchField,\r\n      searchError,\r\n      searchServerFail,\r\n      searched,\r\n    } = this.state;\r\n    const searchedProducts =\r\n      searched.length &&\r\n      searched.map((s) => (\r\n        <div key={`${s.calories}$-${s.name}`} className=\"product box\">\r\n          <div className=\"columns\">\r\n            <div className=\"column is-half\">\r\n              <p className=\"is-size-5 has-text-weight-semibold\">{s.name}</p>\r\n              <p className=\"nutrients\">\r\n                <span>Proteins: {s.substances.proteins}g</span>\r\n                <span>Fats: {s.substances.fats}g</span>\r\n                <span>Carbs: {s.substances.carbs}g</span>\r\n                <span>Calories: {s.substances.calories}g</span>\r\n              </p>\r\n            </div>\r\n            <div className=\"column is-half\">\r\n              <div className=\"img\">\r\n                <img src={`${s.img}`} alt={s.name} />\r\n              </div>\r\n              <a\r\n                type=\"button\"\r\n                className=\"button is-info\"\r\n                data-id={s.id}\r\n                onClick={this.handleUseProduct}\r\n                href=\"/\"\r\n              >\r\n                Use\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ));\r\n    return (\r\n      <div className=\"modal\">\r\n        <div className=\"modal-background\"> </div>\r\n        <div className=\"modal-card\">\r\n          <header className=\"modal-card-head\">\r\n            <p className=\"modal-header-title is-size-4\">{isEdit ? 'Edit' : 'Add new'} ingredient</p>\r\n            <button type=\"button\" className=\"delete\" aria-label=\"close\" onClick={close} />\r\n          </header>\r\n          {!searchOpened && (\r\n            <section className=\"scrollable\">\r\n              <div className=\"columns\">\r\n                <div className=\"column is-half\">\r\n                  <div className=\"control\">\r\n                    <label htmlFor=\"ingredient-name\" className=\"is-size-5 has-text-weight-semibold\">\r\n                      Name of ingredient:\r\n                      <input\r\n                        id=\"ingredient-name\"\r\n                        className=\"input\"\r\n                        type=\"text\"\r\n                        onChange={this.handleInputChange}\r\n                        value={name}\r\n                      />\r\n                    </label>\r\n                    {nameExists && (\r\n                      <p className=\"has-text-danger\">\r\n                        This ingredient&apos;s name already exists. Enter different.\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                  <hr />\r\n                  <div className=\"control\">\r\n                    <label\r\n                      htmlFor=\"ingredient-proteins\"\r\n                      className=\"is-size-5 has-text-weight-semibold\"\r\n                    >\r\n                      Proteins (in 100g):\r\n                      <input\r\n                        id=\"ingredient-proteins\"\r\n                        className=\"input\"\r\n                        type=\"number\"\r\n                        min=\"0\"\r\n                        onChange={this.handleInputChange}\r\n                        value={proteins}\r\n                      />\r\n                    </label>\r\n                  </div>\r\n                  <div className=\"control\">\r\n                    <label htmlFor=\"ingredient-fats\" className=\"is-size-5 has-text-weight-semibold\">\r\n                      Fats (in 100g):\r\n                      <input\r\n                        id=\"ingredient-fats\"\r\n                        className=\"input\"\r\n                        type=\"number\"\r\n                        min=\"0\"\r\n                        onChange={this.handleInputChange}\r\n                        value={fats}\r\n                      />\r\n                    </label>\r\n                  </div>\r\n                  <div className=\"control\">\r\n                    <label\r\n                      htmlFor=\"ingredient-carbs\"\r\n                      className=\"is-size-5 has-text-weight-semibold\"\r\n                    >\r\n                      Carbs (in 100g):\r\n                      <input\r\n                        id=\"ingredient-carbs\"\r\n                        className=\"input\"\r\n                        type=\"number\"\r\n                        min=\"0\"\r\n                        onChange={this.handleInputChange}\r\n                        value={carbs}\r\n                      />\r\n                    </label>\r\n                  </div>\r\n                  <div className=\"control\">\r\n                    <label\r\n                      htmlFor=\"ingredient-calories\"\r\n                      className=\"is-size-5 has-text-weight-semibold\"\r\n                    >\r\n                      Calories (kcal in 100g):\r\n                      <input\r\n                        id=\"ingredient-calories\"\r\n                        className=\"input\"\r\n                        type=\"number\"\r\n                        min=\"0\"\r\n                        onChange={this.handleInputChange}\r\n                        value={calories}\r\n                      />\r\n                    </label>\r\n                  </div>\r\n                  <hr />\r\n                  <div className=\"control\">\r\n                    <label\r\n                      htmlFor=\"ingredient-quantity\"\r\n                      className=\"is-size-5 has-text-weight-semibold\"\r\n                    >\r\n                      Quantity (in g):\r\n                      <input\r\n                        id=\"ingredient-quantity\"\r\n                        className=\"input\"\r\n                        type=\"number\"\r\n                        min=\"0\"\r\n                        onChange={this.handleInputChange}\r\n                        value={quantity}\r\n                      />\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n                <div className=\"column is-half\">\r\n                  <div className=\"control\">\r\n                    <label\r\n                      htmlFor=\"ingredient-bookmark\"\r\n                      className=\"is-size-5 has-text-weight-semibold\"\r\n                    >\r\n                      Select from bookmarks\r\n                      <div className=\"select\">\r\n                        <select onChange={this.handleFromBookmarks} id=\"ingredient-bookmark\">\r\n                          <option value={null}>Select meal&apos;s type</option>\r\n                          {!!savedIngredients.length &&\r\n                            savedIngredients.map((i) => (\r\n                              <option key={`${i.name}-${i.calories}`} value={i.name}>\r\n                                {i.name}\r\n                              </option>\r\n                            ))}\r\n                        </select>\r\n                      </div>\r\n                    </label>\r\n                  </div>\r\n                  <div className=\"control\">\r\n                    <p className=\"is-size-5 has-text-weight-semibold\">\r\n                      Search in OpenFoodFacts.org:\r\n                    </p>\r\n                    <br />\r\n                    <button\r\n                      id=\"search-ingredient\"\r\n                      className=\"button is-primary\"\r\n                      type=\"button\"\r\n                      onClick={this.handleOpenSearch}\r\n                    >\r\n                      Open Search\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <p className=\"subtitle has-text-link\">\r\n                <span className=\"has-text-weight-semibold\">These substances will be saved:</span>\r\n                <br />\r\n                {`Proteins: ${floorToOne((proteins * quantity) / 100)}g, `}\r\n                <br />\r\n                {`Fats: ${floorToOne((fats * quantity) / 100)}g, `}\r\n                <br />\r\n                {`Carbs: ${floorToOne((carbs * quantity) / 100)}g, `}\r\n                <br />\r\n                {`Calories: ${floorToOne((calories * quantity) / 100)} kcal`}\r\n              </p>\r\n              {error && <p className=\"has-text-danger\">Fill all fields correctly</p>}\r\n              <button type=\"submit\" className=\"button is-success\" onClick={close}>\r\n                Back\r\n              </button>\r\n              <button type=\"submit\" className=\"button is-info\" onClick={this.handleSaveButton}>\r\n                Save\r\n              </button>\r\n            </section>\r\n          )}\r\n          {searchOpened && (\r\n            <section className=\"scrollable\">\r\n              <div className=\"columns\">\r\n                <div className=\"column is-half\">\r\n                  <div className=\"control\">\r\n                    <label className=\"is-size-5 has-text-weight-semibold\" htmlFor=\"product-search\">\r\n                      Search for product\r\n                      <input\r\n                        id=\"product-search\"\r\n                        className=\"input\"\r\n                        type=\"text\"\r\n                        onChange={this.handleInputChange}\r\n                        value={searchField}\r\n                      />\r\n                    </label>\r\n                    {searchError && (\r\n                      <>\r\n                        <p className=\"has-text-danger\">\r\n                          You must provide at least 3 character in length product name\r\n                        </p>\r\n                        <br />\r\n                      </>\r\n                    )}\r\n                    {searchServerFail && (\r\n                      <>\r\n                        <p className=\"has-text-danger\">Server failed loading products</p>\r\n                        <br />\r\n                      </>\r\n                    )}\r\n                    <button\r\n                      className=\"button is-primary\"\r\n                      type=\"button\"\r\n                      onClick={this.handleSearchProduct}\r\n                    >\r\n                      Search\r\n                    </button>\r\n                    <button\r\n                      className=\"button is-info\"\r\n                      type=\"button\"\r\n                      onClick={this.handleOpenSearch}\r\n                    >\r\n                      Back\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"product-search\">{searchedProducts ? searchedProducts : null}</div>\r\n            </section>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nIngredientModal.propTypes = {\r\n  close: PropTypes.func.isRequired,\r\n  addIngredient: PropTypes.func.isRequired,\r\n  recountSubstances: PropTypes.func.isRequired,\r\n  quantity: PropTypes.number,\r\n  name: PropTypes.string,\r\n  substances: PropTypes.shape({\r\n    proteins: PropTypes.number,\r\n    fats: PropTypes.number,\r\n    carbs: PropTypes.number,\r\n    calories: PropTypes.number,\r\n  }),\r\n  ingredientNames: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n  mealType: PropTypes.string.isRequired,\r\n  dayId: PropTypes.number.isRequired,\r\n  editIngredient: PropTypes.func.isRequired,\r\n  isEdit: PropTypes.bool,\r\n  savedIngredients: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n};\r\n\r\nIngredientModal.defaultProps = {\r\n  name: '',\r\n  quantity: 0,\r\n  isEdit: false,\r\n  substances: {\r\n    proteins: 0,\r\n    fats: 0,\r\n    carbs: 0,\r\n    calories: 0,\r\n  },\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { savedIngredients } = state;\r\n  return {\r\n    savedIngredients,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  addIngredient: (dayId, mealType, name, quantity, substances) =>\r\n    dispatch(addIngredientAction(dayId, mealType, name, quantity, substances)),\r\n  editIngredient: (dayId, mealType, name, quantity, substances, prevName) =>\r\n    dispatch(editIngredientAction(dayId, mealType, name, quantity, substances, prevName)),\r\n  recountSubstances: () => dispatch(recountSubstancesAction()),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(IngredientModal);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst OkModal = ({ title, subtitle, click }) => (\r\n  <div className=\"modal\">\r\n    <div className=\"modal-background\"> </div>\r\n    <div className=\"modal-card\">\r\n      <header className=\"modal-card-head\">\r\n        <h1 className=\"is-size-4\">{title}</h1>\r\n      </header>\r\n\r\n      <section>\r\n        <p className=\"is-size-5\">{subtitle}</p>\r\n        <br />\r\n        <button type=\"button\" className=\"button is-info\" onClick={click}>\r\n          OK\r\n        </button>\r\n      </section>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nOkModal.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n  subtitle: PropTypes.string.isRequired,\r\n  click: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default OkModal;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  removeIngredient as removeIngredientAction,\r\n  removeBookmarkedIngredient as removeBookmarkedIngredientAction,\r\n  recountSubstances as recountSubstancesAction,\r\n  bookmarkIngredient as bookmarkIngredientAction,\r\n} from '../actions';\r\nimport RemoveModal from './RemoveModal';\r\nimport IngredientModal from './IngredientModal';\r\nimport OkModal from './OkModal';\r\nimport { floorToOne } from '../utils';\r\n\r\nclass IngredientSnippet extends React.Component {\r\n  state = {\r\n    removeModalShow: false,\r\n    editModalShow: false,\r\n    bookmarkModalShow: false,\r\n  };\r\n\r\n  handleRemoveButton = (e) => {\r\n    e.preventDefault();\r\n\r\n    this.setState({\r\n      removeModalShow: true,\r\n    });\r\n  };\r\n\r\n  handleEditButton = (e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      editModalShow: true,\r\n    });\r\n  };\r\n\r\n  handleBackButton = () => {\r\n    this.setState({\r\n      editModalShow: false,\r\n    });\r\n  };\r\n\r\n  handleRemoveModal = (sure) => {\r\n    const {\r\n      dayId,\r\n      mealType,\r\n      name,\r\n      removeIngredient,\r\n      recountSubstances,\r\n      removeBookmarkedIngredient,\r\n      isntEditable,\r\n    } = this.props;\r\n\r\n    if (sure && isntEditable) {\r\n      removeBookmarkedIngredient(name);\r\n      this.setState({\r\n        removeModalShow: false,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (sure) {\r\n      removeIngredient(dayId, mealType, name);\r\n      recountSubstances();\r\n    }\r\n    this.setState({\r\n      removeModalShow: false,\r\n    });\r\n  };\r\n\r\n  handleBookmarkIngredient = (e) => {\r\n    const { name, substances, bookmarkIngredient, quantity } = this.props;\r\n    e.preventDefault();\r\n    bookmarkIngredient(name, {\r\n      proteins: floorToOne((substances.proteins * 100) / quantity),\r\n      fats: floorToOne((substances.fats * 100) / quantity),\r\n      carbs: floorToOne((substances.carbs * 100) / quantity),\r\n      calories: floorToOne((substances.calories * 100) / quantity),\r\n    });\r\n    this.setState({\r\n      bookmarkModalShow: true,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      name,\r\n      substances,\r\n      quantity,\r\n      ingredientNames,\r\n      dayId,\r\n      mealType,\r\n      savedIngredients,\r\n      isntEditable,\r\n    } = this.props;\r\n    const { removeModalShow, editModalShow, bookmarkModalShow } = this.state;\r\n\r\n    return (\r\n      <>\r\n        {removeModalShow && (\r\n          <RemoveModal\r\n            title=\"Are you sure?\"\r\n            subtitle={`Do you really want to remove this ingredient: ${name}?`}\r\n            click={this.handleRemoveModal}\r\n          />\r\n        )}\r\n        {editModalShow && (\r\n          <IngredientModal\r\n            name={name}\r\n            quantity={quantity}\r\n            substances={substances}\r\n            close={this.handleBackButton}\r\n            ingredientNames={ingredientNames}\r\n            dayId={dayId}\r\n            mealType={mealType}\r\n            isEdit\r\n          />\r\n        )}\r\n        {bookmarkModalShow && (\r\n          <OkModal\r\n            title=\"Ingredient bookmarked\"\r\n            subtitle=\"You ingredient has been added to ingredients page\"\r\n            click={() => this.setState({ bookmarkModalShow: false })}\r\n          />\r\n        )}\r\n        <div className=\"box meal-snippet has-text-white has-text-grey-darker\">\r\n          <h3 className=\"title is-size-5\">{name}</h3>\r\n          {!isntEditable && <h4 className=\"subtitle has-text-grey is-size-6\">{`${quantity}g`}</h4>}\r\n          <div>\r\n            {!isntEditable && (\r\n              <a href=\"/\" onClick={this.handleEditButton}>\r\n                Edit\r\n              </a>\r\n            )}\r\n            {!savedIngredients.map((i) => i.name).includes(name) && (\r\n              <a href=\"/\" onClick={this.handleBookmarkIngredient}>\r\n                Bookmark\r\n              </a>\r\n            )}\r\n            <a href=\"/\" onClick={this.handleRemoveButton} className=\"has-text-danger\">\r\n              Remove\r\n            </a>\r\n          </div>\r\n          <footer className=\"is-size-7\">\r\n            <p>\r\n              <span>\r\n                Proteins:\r\n                <b> {floorToOne(substances.proteins)}g</b>\r\n              </span>\r\n              <span>\r\n                Fats:\r\n                <b> {floorToOne(substances.fats)}g</b>\r\n              </span>\r\n              <span>\r\n                Carbs:\r\n                <b> {floorToOne(substances.carbs)}g</b>\r\n              </span>\r\n              <span>\r\n                kcal:\r\n                <b> {floorToOne(substances.calories)}</b>\r\n              </span>\r\n            </p>\r\n          </footer>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nIngredientSnippet.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  mealType: PropTypes.string.isRequired,\r\n  quantity: PropTypes.number,\r\n  dayId: PropTypes.number.isRequired,\r\n  ingredientNames: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n  removeIngredient: PropTypes.func.isRequired,\r\n  bookmarkIngredient: PropTypes.func.isRequired,\r\n  removeBookmarkedIngredient: PropTypes.func.isRequired,\r\n  recountSubstances: PropTypes.func.isRequired,\r\n  savedIngredients: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  substances: PropTypes.shape({\r\n    proteins: PropTypes.number,\r\n    fats: PropTypes.number,\r\n    carbs: PropTypes.number,\r\n    calories: PropTypes.number,\r\n  }),\r\n  isntEditable: PropTypes.bool,\r\n};\r\n\r\nIngredientSnippet.defaultProps = {\r\n  quantity: 0,\r\n  substances: {\r\n    proteins: 0,\r\n    fats: 0,\r\n    carbs: 0,\r\n    calories: 0,\r\n  },\r\n  isntEditable: false,\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { savedIngredients } = state;\r\n  return {\r\n    savedIngredients,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  removeIngredient: (dayId, mealType, name) =>\r\n    dispatch(removeIngredientAction(dayId, mealType, name)),\r\n  recountSubstances: () => dispatch(recountSubstancesAction()),\r\n  removeBookmarkedIngredient: (name) => dispatch(removeBookmarkedIngredientAction(name)),\r\n  bookmarkIngredient: (name, substances) => dispatch(bookmarkIngredientAction(name, substances)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(IngredientSnippet);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport Card from '../templates/Card';\r\nimport IngredientSnippet from '../components/IngredientSnippet';\r\n\r\nconst SavedIngredients = ({ savedIngredients }) => {\r\n  const ingredients = savedIngredients.map((i) => (\r\n    <IngredientSnippet key={i.name} name={i.name} substances={i.substances} isntEditable />\r\n  ));\r\n\r\n  return (\r\n    <Card title=\"Saved Ingredients\" subtitle=\"You can organize here your saved ingredients\">\r\n      {ingredients.length === 0 && (\r\n        <p className=\"subtitle is-size-4 has-text-centered\">No saved ingredients at the moment</p>\r\n      )}\r\n      {ingredients}\r\n    </Card>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { savedIngredients } = state;\r\n  return { savedIngredients };\r\n};\r\n\r\nSavedIngredients.propTypes = {\r\n  savedIngredients: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n};\r\n\r\nexport default connect(mapStateToProps)(SavedIngredients);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport Card from '../templates/Card';\r\nimport {\r\n  saveBMR as saveBMRAction,\r\n  saveProportions as saveProportionsAction,\r\n  saveGoal as saveGoalAction,\r\n} from '../actions';\r\nimport { floorToOne } from '../utils';\r\n\r\nclass Configuration extends React.Component {\r\n  state = {\r\n    bmrForm: {\r\n      bodyMass: 0,\r\n      bodyHeight: 0,\r\n      age: 0,\r\n      activity: 0,\r\n      sex: 0,\r\n      error: false,\r\n      result: null,\r\n    },\r\n    proportionsForm: {\r\n      proteins: 0,\r\n      fats: 0,\r\n      carbs: 0,\r\n      error: false,\r\n    },\r\n    goal: {\r\n      value: -2,\r\n      error: false,\r\n    },\r\n  };\r\n\r\n  handleMassChange = (e) => {\r\n    e.persist();\r\n    this.setState((prevState) => ({\r\n      ...prevState,\r\n      bmrForm: {\r\n        ...prevState.bmrForm,\r\n        bodyMass: +e.target.value,\r\n      },\r\n    }));\r\n  };\r\n\r\n  handleHeightChange = (e) => {\r\n    e.persist();\r\n    this.setState((prevState) => ({\r\n      ...prevState,\r\n      bmrForm: {\r\n        ...prevState.bmrForm,\r\n        bodyHeight: +e.target.value,\r\n      },\r\n    }));\r\n  };\r\n\r\n  handleAgeChange = (e) => {\r\n    e.persist();\r\n    this.setState((prevState) => ({\r\n      ...prevState,\r\n      bmrForm: {\r\n        ...prevState.bmrForm,\r\n        age: +e.target.value,\r\n      },\r\n    }));\r\n  };\r\n\r\n  handleActivityChange = (e) => {\r\n    e.persist();\r\n    this.setState((prevState) => ({\r\n      ...prevState,\r\n      bmrForm: {\r\n        ...prevState.bmrForm,\r\n        activity: +e.target.value,\r\n      },\r\n    }));\r\n  };\r\n\r\n  handleSexChange = (e) => {\r\n    e.persist();\r\n    const sex = +e.target.value;\r\n    let sexTo = null;\r\n    if (sex === 1) {\r\n      sexTo = 1;\r\n    }\r\n    if (sex === 2) {\r\n      sexTo = 2;\r\n    }\r\n    this.setState((prevState) => ({\r\n      ...prevState,\r\n      bmrForm: {\r\n        ...prevState.bmrForm,\r\n        sex: sexTo,\r\n      },\r\n    }));\r\n  };\r\n\r\n  handleCalculateButton = () => {\r\n    const { bmrForm } = this.state;\r\n    if (Object.values(bmrForm).indexOf(0) > -1) {\r\n      this.setState((prevState) => ({\r\n        ...prevState,\r\n        bmrForm: {\r\n          ...prevState.bmrForm,\r\n          error: true,\r\n          result: null,\r\n        },\r\n      }));\r\n      return;\r\n    }\r\n\r\n    const { bodyMass, bodyHeight, age, activity, sex } = bmrForm;\r\n    let result;\r\n\r\n    if (sex === 1) {\r\n      result = (9.99 * bodyMass + 6.25 * bodyHeight - 4.92 * age - 161) * activity;\r\n    }\r\n    if (sex === 2) {\r\n      result = (9.99 * bodyMass + 6.25 * bodyHeight - 4.92 * age + 5) * activity;\r\n    }\r\n\r\n    this.setState((prevState) => ({\r\n      ...prevState,\r\n      bmrForm: {\r\n        ...prevState.bmrForm,\r\n        error: false,\r\n        result: floorToOne(result),\r\n      },\r\n    }));\r\n  };\r\n\r\n  handleProteinChange = (e) => {\r\n    e.persist();\r\n    this.setState((prevState) => ({\r\n      ...prevState,\r\n      proportionsForm: {\r\n        ...prevState.proportionsForm,\r\n        proteins: +e.target.value,\r\n        error: false,\r\n      },\r\n    }));\r\n  };\r\n\r\n  handleFatsChange = (e) => {\r\n    e.persist();\r\n    this.setState((prevState) => ({\r\n      ...prevState,\r\n      proportionsForm: {\r\n        ...prevState.proportionsForm,\r\n        fats: +e.target.value,\r\n      },\r\n    }));\r\n  };\r\n\r\n  handleCarbsChange = (e) => {\r\n    e.persist();\r\n    this.setState((prevState) => ({\r\n      ...prevState,\r\n      proportionsForm: {\r\n        ...prevState.proportionsForm,\r\n        carbs: +e.target.value,\r\n        error: false,\r\n      },\r\n    }));\r\n  };\r\n\r\n  handleSaveBMR = () => {\r\n    const { yourProteins, yourFats, yourCarbs, yourGoal, saveBMR, saveProportions } = this.props;\r\n    const { bmrForm } = this.state;\r\n\r\n    const minProteins = floorToOne(\r\n      ((yourProteins / (yourProteins + yourFats + yourCarbs)) *\r\n        (bmrForm.result - 100 + yourGoal * 300)) /\r\n        4,\r\n    );\r\n    const maxProteins = floorToOne(\r\n      ((yourProteins / (yourProteins + yourFats + yourCarbs)) *\r\n        (bmrForm.result + 100 + yourGoal * 300)) /\r\n        4,\r\n    );\r\n    const minFats = floorToOne(\r\n      ((yourFats / (yourProteins + yourFats + yourCarbs)) *\r\n        (bmrForm.result - 100 + yourGoal * 300)) /\r\n        9,\r\n    );\r\n    const maxFats = floorToOne(\r\n      ((yourFats / (yourProteins + yourFats + yourCarbs)) *\r\n        (bmrForm.result + 100 + yourGoal * 300)) /\r\n        9,\r\n    );\r\n    const minCarbs = floorToOne(\r\n      ((yourCarbs / (yourProteins + yourFats + yourCarbs)) *\r\n        (bmrForm.result - 100 + yourGoal * 300)) /\r\n        4,\r\n    );\r\n    const maxCarbs = floorToOne(\r\n      ((yourCarbs / (yourProteins + yourFats + yourCarbs)) *\r\n        (bmrForm.result + 100 + yourGoal * 300)) /\r\n        4,\r\n    );\r\n\r\n    saveBMR(bmrForm.result);\r\n    saveProportions({\r\n      ratioP: yourProteins,\r\n      ratioF: yourFats,\r\n      ratioC: yourCarbs,\r\n      Pmin: minProteins,\r\n      Pmax: maxProteins,\r\n      Fmin: minFats,\r\n      Fmax: maxFats,\r\n      Cmin: minCarbs,\r\n      Cmax: maxCarbs,\r\n    });\r\n  };\r\n\r\n  handleSaveProportions = () => {\r\n    const { proportionsForm } = this.state;\r\n    const { proteins, fats, carbs } = proportionsForm;\r\n    const { saveProportions, yourBMR, yourGoal } = this.props;\r\n    if (proteins > 0 && fats >= 0 && carbs > 0) {\r\n      const minProteins = floorToOne(\r\n        ((proteins / (proteins + fats + carbs)) * (yourBMR - 100 + yourGoal * 300)) / 4,\r\n      );\r\n      const maxProteins = floorToOne(\r\n        ((proteins / (proteins + fats + carbs)) * (yourBMR + 100 + yourGoal * 300)) / 4,\r\n      );\r\n      const minFats = floorToOne(\r\n        ((fats / (proteins + fats + carbs)) * (yourBMR - 100 + yourGoal * 300)) / 9,\r\n      );\r\n      const maxFats = floorToOne(\r\n        ((fats / (proteins + fats + carbs)) * (yourBMR + 100 + yourGoal * 300)) / 9,\r\n      );\r\n      const minCarbs = floorToOne(\r\n        ((carbs / (proteins + fats + carbs)) * (yourBMR - 100 + yourGoal * 300)) / 4,\r\n      );\r\n      const maxCarbs = floorToOne(\r\n        ((carbs / (proteins + fats + carbs)) * (yourBMR + 100 + yourGoal * 300)) / 4,\r\n      );\r\n      saveProportions({\r\n        ratioP: proteins,\r\n        ratioF: fats,\r\n        ratioC: carbs,\r\n        Pmin: minProteins,\r\n        Pmax: maxProteins,\r\n        Fmin: minFats,\r\n        Fmax: maxFats,\r\n        Cmin: minCarbs,\r\n        Cmax: maxCarbs,\r\n      });\r\n      this.setState((prevState) => ({\r\n        ...prevState,\r\n        proportionsForm: {\r\n          proteins: 0,\r\n          fats: 0,\r\n          carbs: 0,\r\n          error: false,\r\n        },\r\n      }));\r\n      return;\r\n    }\r\n    this.setState((prevState) => ({\r\n      ...prevState,\r\n      proportionsForm: {\r\n        ...prevState.proportionsForm,\r\n        error: true,\r\n      },\r\n    }));\r\n  };\r\n\r\n  handleGoalChange = (e) => {\r\n    e.persist();\r\n    this.setState((prevState) => ({\r\n      ...prevState,\r\n      goal: {\r\n        value: +e.target.value,\r\n        error: false,\r\n      },\r\n    }));\r\n  };\r\n\r\n  handleSaveGoal = () => {\r\n    const { goal } = this.state;\r\n    if (+goal.value === -2) {\r\n      this.setState((prevState) => ({\r\n        ...prevState,\r\n        goal: {\r\n          ...prevState.goal,\r\n          error: true,\r\n        },\r\n      }));\r\n      return;\r\n    }\r\n    const { saveGoal } = this.props;\r\n    saveGoal(goal.value);\r\n    this.setState((prevState) => ({\r\n      ...prevState,\r\n      goal: {\r\n        value: -2,\r\n        error: false,\r\n      },\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    const { bmrForm, proportionsForm, goal } = this.state;\r\n    const { bodyMass, bodyHeight, age, activity, sex, error: errorBMR, result } = bmrForm;\r\n    const { proteins, fats, carbs, error: propError } = proportionsForm;\r\n    const { value, error: errorGoal } = goal;\r\n    const { yourBMR, yourProteins, yourFats, yourCarbs, yourGoal } = this.props;\r\n\r\n    const minProteins = floorToOne(\r\n      ((yourProteins / (yourProteins + yourFats + yourCarbs)) * (yourBMR - 100 + yourGoal * 300)) /\r\n        4,\r\n    );\r\n    const maxProteins = floorToOne(\r\n      ((yourProteins / (yourProteins + yourFats + yourCarbs)) * (yourBMR + 100 + yourGoal * 300)) /\r\n        4,\r\n    );\r\n    const minFats = floorToOne(\r\n      ((yourFats / (yourProteins + yourFats + yourCarbs)) * (yourBMR - 100 + yourGoal * 300)) / 9,\r\n    );\r\n    const maxFats = floorToOne(\r\n      ((yourFats / (yourProteins + yourFats + yourCarbs)) * (yourBMR + 100 + yourGoal * 300)) / 9,\r\n    );\r\n    const minCarbs = floorToOne(\r\n      ((yourCarbs / (yourProteins + yourFats + yourCarbs)) * (yourBMR - 100 + yourGoal * 300)) / 4,\r\n    );\r\n    const maxCarbs = floorToOne(\r\n      ((yourCarbs / (yourProteins + yourFats + yourCarbs)) * (yourBMR + 100 + yourGoal * 300)) / 4,\r\n    );\r\n\r\n    return (\r\n      <>\r\n        <Card\r\n          title=\"Configuration\"\r\n          subtitle=\"You can configure your BMR width activity factor and Protein:Fat:Carbohydrates proportions based on your BMR and activity.\"\r\n        >\r\n          <div className=\"box\">\r\n            <h2 className=\"subtitle is-size-4 has-text-weight-semibold\">\r\n              {`Your current BMR: ${yourBMR} kcal`}\r\n            </h2>\r\n            <h2 className=\"subtitle is-size-4 has-text-weight-semibold\">\r\n              {` Your current proportions: ${yourProteins} : ${yourFats} : ${yourCarbs}`}\r\n            </h2>\r\n            <h2 className=\"subtitle is-size-4 has-text-weight-semibold\">\r\n              Your goal is to\r\n              {yourGoal === -1 && ' loose weight'}\r\n              {yourGoal === 0 && ' keep weight'}\r\n              {yourGoal === 1 && ' gain weight'}\r\n              , so you should eat:\r\n              <br />\r\n              <br />\r\n              {` ${yourBMR - 100 + yourGoal * 300}-${yourBMR + 100 + yourGoal * 300}`} kcal\r\n              <br />\r\n              <br />\r\n              {minProteins === maxProteins\r\n                ? ` ~${maxProteins}g `\r\n                : ` ~${minProteins}-${maxProteins + 1}g `}{' '}\r\n              Proteins\r\n              <br />\r\n              {minFats === maxFats ? ` ~${maxFats}g ` : ` ~${minFats}-${maxFats + 1}g `} Fats\r\n              <br />\r\n              {minCarbs === maxCarbs ? ` ~${maxCarbs}g ` : ` ~${minCarbs}-${maxCarbs + 1}g `}{' '}\r\n              Carbohydrates\r\n            </h2>\r\n          </div>\r\n          <hr />\r\n          <div className=\"box\">\r\n            <h2 className=\"subtitle is-size-3 has-text-weight-semibold\">Calculate your BMR</h2>\r\n            <p className=\"subtitle\">\r\n              Enter the following data to calculate your basal metabolic rate:\r\n            </p>\r\n            <div className=\"columns\">\r\n              <div className=\"column is-one-quarter\">\r\n                <div className=\"control\">\r\n                  <label htmlFor=\"body-mass\" className=\"is-size-5 has-text-weight-semibold\">\r\n                    Body mass (in kg)\r\n                    <input\r\n                      id=\"body-mass\"\r\n                      className=\"input\"\r\n                      type=\"number\"\r\n                      min=\"0\"\r\n                      onChange={this.handleMassChange}\r\n                      value={bodyMass}\r\n                    />\r\n                  </label>\r\n                </div>\r\n                <div className=\"control\">\r\n                  <label htmlFor=\"body-height\" className=\"is-size-5 has-text-weight-semibold\">\r\n                    Body height (in cm)\r\n                    <input\r\n                      id=\"body-height\"\r\n                      className=\"input\"\r\n                      type=\"number\"\r\n                      min=\"0\"\r\n                      onChange={this.handleHeightChange}\r\n                      value={bodyHeight}\r\n                    />\r\n                  </label>\r\n                </div>\r\n                <div className=\"control\">\r\n                  <label htmlFor=\"body-age\" className=\"is-size-5 has-text-weight-semibold\">\r\n                    Age\r\n                    <input\r\n                      id=\"body-age\"\r\n                      className=\"input\"\r\n                      type=\"number\"\r\n                      min=\"0\"\r\n                      onChange={this.handleAgeChange}\r\n                      value={age}\r\n                    />\r\n                  </label>\r\n                </div>\r\n              </div>\r\n              <div className=\"column is-one-quarter\">\r\n                <div className=\"control\">\r\n                  <label htmlFor=\"physical-activity\" className=\"is-size-5 has-text-weight-semibold\">\r\n                    Physical activity\r\n                    <div className=\"select\">\r\n                      <select\r\n                        onChange={this.handleActivityChange}\r\n                        value={activity}\r\n                        id=\"physical-activity\"\r\n                      >\r\n                        <option value=\"0\">Select activity level</option>\r\n                        <option value=\"1.2\">Almost none</option>\r\n                        <option value=\"1.35\">Little</option>\r\n                        <option value=\"1.55\">Medium</option>\r\n                        <option value=\"1.75\">Big</option>\r\n                        <option value=\"2.05\">Very heavy</option>\r\n                      </select>\r\n                    </div>\r\n                  </label>\r\n                </div>\r\n                <br />\r\n                <div className=\"control\">\r\n                  <label htmlFor=\"woman-button\" className=\"radio is-size-5\">\r\n                    <input\r\n                      id=\"woman-button\"\r\n                      type=\"radio\"\r\n                      name=\"woman\"\r\n                      value=\"1\"\r\n                      checked={sex === 1}\r\n                      onChange={this.handleSexChange}\r\n                    />\r\n                    Woman\r\n                  </label>\r\n                  <label htmlFor=\"men-button\" className=\"radio is-size-5\">\r\n                    <input\r\n                      id=\"men-button\"\r\n                      type=\"radio\"\r\n                      name=\"men\"\r\n                      value=\"2\"\r\n                      checked={sex === 2}\r\n                      onChange={this.handleSexChange}\r\n                    />\r\n                    Men\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {errorBMR && (\r\n              <p className=\"has-text-danger is-size-6\">Please, fill up this form correctly</p>\r\n            )}\r\n            {result && <p className=\"has-text-info is-size-4\">Your BMR is {result}</p>}\r\n            <br />\r\n            <button\r\n              type=\"button\"\r\n              className=\"button is-primary\"\r\n              onClick={this.handleCalculateButton}\r\n            >\r\n              Calculate\r\n            </button>\r\n            {result && (\r\n              <button type=\"button\" className=\"button is-info\" onClick={this.handleSaveBMR}>\r\n                Save\r\n              </button>\r\n            )}\r\n          </div>\r\n          <hr />\r\n          <div className=\"box\">\r\n            <h2 className=\"subtitle is-size-3 has-text-weight-semibold\">\r\n              Provide ingredients proportions\r\n            </h2>\r\n            <p className=\"subtitle\">Enter the proportions of PROTEINS:FATS:CARBOHYDRATES:</p>\r\n            <div className=\"columns\">\r\n              <div className=\"column is-one-quarter\">\r\n                <div className=\"control\">\r\n                  <label htmlFor=\"proteins\" className=\"is-size-5 has-text-weight-semibold\">\r\n                    Proteins\r\n                    <input\r\n                      id=\"proteins\"\r\n                      className=\"input\"\r\n                      type=\"number\"\r\n                      min=\"0\"\r\n                      value={proteins}\r\n                      onChange={this.handleProteinChange}\r\n                    />\r\n                  </label>\r\n                </div>\r\n                <div className=\"control\">\r\n                  <label htmlFor=\"fats\" className=\"is-size-5 has-text-weight-semibold\">\r\n                    Fats\r\n                    <input\r\n                      id=\"fats\"\r\n                      className=\"input\"\r\n                      type=\"number\"\r\n                      min=\"0\"\r\n                      value={fats}\r\n                      onChange={this.handleFatsChange}\r\n                    />\r\n                  </label>\r\n                </div>\r\n                <div className=\"control\">\r\n                  <label htmlFor=\"carbs\" className=\"is-size-5 has-text-weight-semibold\">\r\n                    Carbohydrates\r\n                    <input\r\n                      id=\"carbs\"\r\n                      className=\"input\"\r\n                      type=\"number\"\r\n                      min=\"0\"\r\n                      value={carbs}\r\n                      onChange={this.handleCarbsChange}\r\n                    />\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {propError && (\r\n              <p className=\"has-text-danger is-size-6\">\r\n                Proteins and carbohydrates must be more than 0\r\n              </p>\r\n            )}\r\n            {proteins > 0 && fats >= 0 && carbs > 0 && (\r\n              <p className=\"has-text-info is-size-4\">\r\n                Your proportions are:\r\n                {` ${proteins}:${fats}:${carbs}`}\r\n              </p>\r\n            )}\r\n            <br />\r\n            <button type=\"button\" className=\"button is-info\" onClick={this.handleSaveProportions}>\r\n              Save\r\n            </button>\r\n          </div>\r\n\r\n          <hr />\r\n\r\n          <div className=\"box\">\r\n            <h2 className=\"subtitle is-size-3 has-text-weight-semibold\">What is your goal?</h2>\r\n            <p className=\"subtitle\">Loose weight, Keep weight or gain weight</p>\r\n\r\n            <div className=\"columns\">\r\n              <div className=\"column is-one-quarter\">\r\n                <div className=\"control\">\r\n                  <label htmlFor=\"goal\" className=\"is-size-5 has-text-weight-semibold\">\r\n                    Your goal\r\n                    <div className=\"select\">\r\n                      <select id=\"goal\" onChange={this.handleGoalChange}>\r\n                        <option value=\"-2\">Select your goal</option>\r\n                        <option value=\"-1\">Loose weight</option>\r\n                        <option value=\"0\">Keep weight</option>\r\n                        <option value=\"1\">Gain weight</option>\r\n                      </select>\r\n                    </div>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {errorGoal && (\r\n              <p className=\"has-text-danger is-size-6\">\r\n                Select option from dropdown menu before saving\r\n              </p>\r\n            )}\r\n            {value > -2 && (\r\n              <p className=\"has-text-info is-size-4\">\r\n                You selected to:\r\n                {value === -1 && ' loose weight'}\r\n                {value === 0 && ' keep weight'}\r\n                {value === 1 && ' gain weight'}\r\n              </p>\r\n            )}\r\n            <br />\r\n            <button type=\"button\" className=\"button is-info\" onClick={this.handleSaveGoal}>\r\n              Save\r\n            </button>\r\n          </div>\r\n        </Card>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { BMR, ratioP, ratioF, ratioC, goal } = state.config;\r\n  return {\r\n    yourBMR: BMR,\r\n    yourProteins: ratioP,\r\n    yourFats: ratioF,\r\n    yourCarbs: ratioC,\r\n    yourGoal: goal,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  saveBMR: (BMRresult) => dispatch(saveBMRAction(BMRresult)),\r\n  saveProportions: (properties) => dispatch(saveProportionsAction(properties)),\r\n  saveGoal: (goal) => dispatch(saveGoalAction(goal)),\r\n});\r\n\r\nConfiguration.propTypes = {\r\n  yourBMR: PropTypes.number.isRequired,\r\n  yourProteins: PropTypes.number.isRequired,\r\n  yourFats: PropTypes.number.isRequired,\r\n  yourCarbs: PropTypes.number.isRequired,\r\n  yourGoal: PropTypes.number.isRequired,\r\n  saveBMR: PropTypes.func.isRequired,\r\n  saveProportions: PropTypes.func.isRequired,\r\n  saveGoal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Configuration);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\nimport PropTypes from 'prop-types';\r\nimport TimePicker from 'react-time-picker';\r\nimport { saveNewMeal as saveNewMealAction, editMeal as editMealAction } from '../actions';\r\n\r\nclass MealModal extends React.Component {\r\n  state = {\r\n    name: null,\r\n    error: false,\r\n    time: '',\r\n    timeExists: false,\r\n    type: '',\r\n    substances: false,\r\n    ingredients: false,\r\n  };\r\n\r\n  times = (() => {\r\n    const { dayId, days } = this.props;\r\n    const [day] = days.filter((d) => d.id === dayId);\r\n\r\n    return day.meals.map((m) => {\r\n      return `${\r\n        new Date(m.time).getHours().toString().length === 2\r\n          ? new Date(m.time).getHours()\r\n          : `0${new Date(m.time).getHours()}`\r\n      }:${\r\n        new Date(m.time).getMinutes().toString().length === 2\r\n          ? new Date(m.time).getMinutes()\r\n          : `0${new Date(m.time).getMinutes()}`\r\n      }`;\r\n    });\r\n  })();\r\n\r\n  types = (() => {\r\n    const { days, dayId } = this.props;\r\n    const [day] = days.filter((d) => d.id === dayId);\r\n\r\n    return day.meals.map((m) => m.type);\r\n  })();\r\n\r\n  handleNameChange = (e) => {\r\n    this.setState({\r\n      name: e.target.value,\r\n      error: false,\r\n    });\r\n  };\r\n\r\n  handleTimeChange = (time) => {\r\n    const { isEdit } = this.props;\r\n    if (!time) {\r\n      return;\r\n    }\r\n    if (this.times.includes(time) && !isEdit) {\r\n      this.setState({\r\n        timeExists: true,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      time,\r\n      error: false,\r\n      timeExists: false,\r\n    });\r\n  };\r\n\r\n  handleTypeChange = (e) => {\r\n    this.setState({\r\n      type: e.target.value,\r\n    });\r\n  };\r\n\r\n  handleSaveMeal = () => {\r\n    const { time, name, type, substances, ingredients } = this.state;\r\n    const {\r\n      close,\r\n      saveNewMeal,\r\n      time: prevTime,\r\n      name: prevName,\r\n      type: prevType,\r\n      days,\r\n      dayId,\r\n      isEdit,\r\n      editMeal,\r\n    } = this.props;\r\n    const parts = time.split(':');\r\n    if (parts.length !== 2 && !isEdit) {\r\n      this.setState({\r\n        error: true,\r\n      });\r\n      return;\r\n    }\r\n    const timeFormat = new Date(days.filter((d) => d.id === dayId)[0].date);\r\n    timeFormat.setHours(parts[0]);\r\n    timeFormat.setMinutes(parts[1]);\r\n    if (\r\n      (isEdit && !time && !name && !type && timeFormat !== prevTime) ||\r\n      (!isEdit && (!time || !name || !type))\r\n    ) {\r\n      this.setState({\r\n        error: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (isEdit) {\r\n      this.setState({\r\n        timeExists: false,\r\n        error: false,\r\n        substances: false,\r\n        ingredients: false,\r\n      });\r\n      editMeal(\r\n        dayId,\r\n        {\r\n          type: type || prevType,\r\n          name: name || prevName,\r\n          time: time ? timeFormat : prevTime,\r\n        },\r\n        prevType,\r\n      );\r\n      close();\r\n      return;\r\n    }\r\n\r\n    if (!this.times.includes(time)) {\r\n      this.setState({\r\n        timeExists: false,\r\n        error: false,\r\n        substances: false,\r\n        ingredients: false,\r\n      });\r\n      saveNewMeal(dayId, {\r\n        type,\r\n        name,\r\n        time: timeFormat,\r\n        substances: substances || {},\r\n        ingredients: ingredients || [],\r\n      });\r\n      close();\r\n    }\r\n  };\r\n\r\n  handleFromBookmarks = (e) => {\r\n    const { savedMeals } = this.props;\r\n    const [meal] = savedMeals.filter((m) => m.name === e.target.value);\r\n    if (!e.target.value || !meal) {\r\n      this.setState({\r\n        name: '',\r\n        substances: false,\r\n        ingredients: false,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (e.target.value) {\r\n      this.setState({\r\n        name: meal.name,\r\n        substances: meal.substances,\r\n        ingredients: meal.ingredients,\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { name, time, error, timeExists, substances, ingredients } = this.state;\r\n    const { isEdit, close, savedMeals } = this.props;\r\n\r\n    return (\r\n      <div className=\"modal\">\r\n        <div className=\"modal-background\"> </div>\r\n        <div className=\"modal-card\">\r\n          <header className=\"modal-card-head\">\r\n            <p className=\"modal-header-title is-size-4\">{isEdit ? 'Edit meal' : 'Add new meal'}</p>\r\n            <button type=\"button\" className=\"delete\" aria-label=\"close\" onClick={close} />\r\n          </header>\r\n          <section>\r\n            <div className=\"columns\">\r\n              <div className=\"column is-half\">\r\n                <div className=\"control\">\r\n                  <label htmlFor=\"meal-name\" className=\"is-size-5 has-text-weight-semibold\">\r\n                    Name of meal:\r\n                    <input\r\n                      id=\"meal-name\"\r\n                      className=\"input\"\r\n                      type=\"text\"\r\n                      onChange={this.handleNameChange}\r\n                      value={name}\r\n                    />\r\n                  </label>\r\n                </div>\r\n                <div className=\"control\">\r\n                  <p className=\"is-size-5 has-text-weight-semibold\">\r\n                    Time of meal:\r\n                    <TimePicker\r\n                      className=\"input\"\r\n                      id=\"meal-time\"\r\n                      onChange={this.handleTimeChange}\r\n                      value={time}\r\n                      maxDetail=\"minute\"\r\n                      clearIcon={null}\r\n                    />\r\n                  </p>\r\n                </div>\r\n                <div className=\"control\">\r\n                  <label htmlFor=\"meal-type\" className=\"is-size-5 has-text-weight-semibold\">\r\n                    Select type of meal\r\n                    <div className=\"select\">\r\n                      <select onChange={this.handleTypeChange} id=\"meal-type\">\r\n                        <option value={null}>Select meal&apos;s type</option>\r\n                        {!this.types.includes('Breakfast') && (\r\n                          <option value=\"Breakfast\">Breakfast</option>\r\n                        )}\r\n                        {!this.types.includes('Second breakfast') && (\r\n                          <option value=\"Second breakfast\">Second Breakfast</option>\r\n                        )}\r\n                        {!this.types.includes('Lunch') && <option value=\"Lunch\">Lunch</option>}\r\n                        {!this.types.includes('Dinner') && <option value=\"Dinner\">Dinner</option>}\r\n                        {!this.types.includes('Snack 1') && (\r\n                          <option value=\"Snack 1\">Snack 1</option>\r\n                        )}\r\n                        {!this.types.includes('Snack 2') && (\r\n                          <option value=\"Snack 2\">Snack 2</option>\r\n                        )}\r\n                        {!this.types.includes('Snack 3') && (\r\n                          <option value=\"Snack 3\">Snack 3</option>\r\n                        )}\r\n                        {!this.types.includes('Supper') && <option value=\"Supper\">Supper</option>}\r\n                      </select>\r\n                    </div>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n              <div className=\"column is-half\">\r\n                <div className=\"control\">\r\n                  <label htmlFor=\"meal-bookmarks\" className=\"is-size-5 has-text-weight-semibold\">\r\n                    Select from bookmarks\r\n                    <div className=\"select\">\r\n                      <select onChange={this.handleFromBookmarks} id=\"meal-bookmarks\">\r\n                        <option>None</option>\r\n                        {savedMeals.map((m) => (\r\n                          <option value={m.name}>{m.name}</option>\r\n                        ))}\r\n                      </select>\r\n                    </div>\r\n                  </label>\r\n                </div>\r\n                {substances && ingredients && (\r\n                  <p className=\"has-text-link is-size-5\">\r\n                    <span className=\"has-text-weight-semibold\">\r\n                      Following ingredients will be applied:{' '}\r\n                    </span>\r\n                    <br />\r\n                    {ingredients.map((i) => (\r\n                      <>\r\n                        <span>\r\n                          {i.name} - {i.quantity}g\r\n                        </span>\r\n                        <br />\r\n                      </>\r\n                    ))}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </div>\r\n            {error && <p className=\"has-text-danger\">Fill all fields correctly</p>}\r\n            {timeExists && <p className=\"has-text-danger\">This time has already meal</p>}\r\n            <br />\r\n            <button type=\"submit\" className=\"button is-success\" onClick={close}>\r\n              Back\r\n            </button>\r\n            <button type=\"submit\" className=\"button is-info\" onClick={this.handleSaveMeal}>\r\n              Save\r\n            </button>\r\n          </section>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  saveNewMeal: (dayId, properties) => dispatch(saveNewMealAction(dayId, properties)),\r\n  editMeal: (dayId, properties, prevType) => dispatch(editMealAction(dayId, properties, prevType)),\r\n});\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { days, savedMeals } = state;\r\n  return {\r\n    days,\r\n    savedMeals,\r\n  };\r\n};\r\n\r\nMealModal.propTypes = {\r\n  saveNewMeal: PropTypes.func.isRequired,\r\n  editMeal: PropTypes.func.isRequired,\r\n  type: PropTypes.string.isRequired,\r\n  time: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  dayId: PropTypes.number.isRequired,\r\n  isEdit: PropTypes.bool.isRequired,\r\n  close: PropTypes.func.isRequired,\r\n  days: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  savedMeals: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MealModal);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { routes } from '../routes';\r\nimport {\r\n  removeMeal as removeMealAction,\r\n  recountSubstances as recountSubstancesAction,\r\n  bookmarkMeal as bookmarkMealAction,\r\n} from '../actions';\r\nimport RemoveModal from './RemoveModal';\r\nimport MealModal from './MealModal';\r\nimport IngredientModal from './IngredientModal';\r\nimport OkModal from './OkModal';\r\n\r\nclass MealNote extends React.Component {\r\n  state = {\r\n    removeModalShow: false,\r\n    editModalShow: false,\r\n    ingredientModalShow: false,\r\n    bookmarkModal: false,\r\n  };\r\n\r\n  names = (() => {\r\n    const { ingredients } = this.props;\r\n    return ingredients.map((i) => i.name);\r\n  })();\r\n\r\n  componentDidUpdate() {\r\n    const { ingredients } = this.props;\r\n    this.names = ingredients.map((i) => i.name);\r\n  }\r\n\r\n  handleRemoveButton = (e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      removeModalShow: true,\r\n    });\r\n  };\r\n\r\n  handleEditButton = (e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      editModalShow: true,\r\n    });\r\n  };\r\n\r\n  handleBackButton = () => {\r\n    this.setState({\r\n      editModalShow: false,\r\n    });\r\n  };\r\n\r\n  handleIngredientBackButton = () => {\r\n    this.setState({\r\n      ingredientModalShow: false,\r\n    });\r\n  };\r\n\r\n  handleRemoveModal = (sure) => {\r\n    const { dayId, type, removeMeal, recountSubstances } = this.props;\r\n    if (sure) {\r\n      removeMeal(dayId, type);\r\n      recountSubstances();\r\n    }\r\n    this.setState({\r\n      removeModalShow: false,\r\n      editModalShow: false,\r\n    });\r\n  };\r\n\r\n  handleAddIngredient = (e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      ingredientModalShow: true,\r\n    });\r\n  };\r\n\r\n  handleBookmarkMeal = (e) => {\r\n    e.preventDefault();\r\n    const { name, substances, ingredients, bookmarkMeal } = this.props;\r\n    this.setState({\r\n      bookmarkModal: true,\r\n    });\r\n    bookmarkMeal(name, substances, ingredients);\r\n  };\r\n\r\n  render() {\r\n    const { children, name, type, substances, time, dayId, savedMeals, ingredients } = this.props;\r\n    const { removeModalShow, editModalShow, ingredientModalShow, bookmarkModal } = this.state;\r\n    const timeObj = new Date(time);\r\n    const rightTime = `${timeObj.getHours()}:${\r\n      timeObj.getMinutes().toString().length === 2\r\n        ? timeObj.getMinutes()\r\n        : `0${timeObj.getMinutes()}`\r\n    }`;\r\n\r\n    return (\r\n      <>\r\n        {removeModalShow && (\r\n          <RemoveModal\r\n            title=\"Are you sure?\"\r\n            subtitle={`Do you really want to remove the following meal: ${name}`}\r\n            click={this.handleRemoveModal}\r\n          />\r\n        )}\r\n        {editModalShow && (\r\n          <MealModal\r\n            type={type}\r\n            name={name}\r\n            time={time}\r\n            dayId={dayId}\r\n            close={this.handleBackButton}\r\n            isEdit\r\n          />\r\n        )}\r\n        {ingredientModalShow && (\r\n          <IngredientModal\r\n            dayId={dayId}\r\n            ingredientNames={this.names}\r\n            mealType={type}\r\n            close={this.handleIngredientBackButton}\r\n          />\r\n        )}\r\n        {bookmarkModal && (\r\n          <OkModal\r\n            title=\"Meal bookmarked\"\r\n            subtitle=\"This meal now appears in your meals page\"\r\n            click={() => this.setState({ bookmarkModal: false })}\r\n          />\r\n        )}\r\n        <div className=\"box day-box\">\r\n          <header className=\"card-header\">\r\n            <h2 className=\"card-header-title is-size-4\">{`${type} at ${rightTime}: ${name}`}</h2>\r\n            <div className=\"is-pulled-right has-text-right\">\r\n              <a\r\n                href={routes.dashboard}\r\n                onClick={this.handleAddIngredient}\r\n                className=\"card-header-item\"\r\n              >\r\n                Add\r\n              </a>\r\n              <a\r\n                href={routes.dashboard}\r\n                onClick={this.handleEditButton}\r\n                className=\"card-header-item\"\r\n              >\r\n                Edit\r\n              </a>\r\n              {!savedMeals.map((s) => s.name).includes(name) && !!ingredients.length && (\r\n                <a\r\n                  href={routes.dashboard}\r\n                  className=\"card-header-item\"\r\n                  onClick={this.handleBookmarkMeal}\r\n                >\r\n                  Bookmark\r\n                </a>\r\n              )}\r\n              <a\r\n                href={routes.dashboard}\r\n                onClick={this.handleRemoveButton}\r\n                className=\"card-header-item has-text-danger\"\r\n              >\r\n                Remove\r\n              </a>\r\n            </div>\r\n          </header>\r\n          <div className=\"card-content\">\r\n            <div className=\"content\">{children}</div>\r\n          </div>\r\n          <footer className=\"card-footer ingredients\">\r\n            <p className=\"card-footer-item is-size-7\">\r\n              Proteins:\r\n              <strong> {substances.proteins ? substances.proteins : '0'}g</strong>\r\n            </p>\r\n            <p className=\"card-footer-item is-size-7\">\r\n              Fats:\r\n              <strong> {substances.fats ? substances.fats : '0'}g</strong>\r\n            </p>\r\n            <p className=\"card-footer-item is-size-7\">\r\n              Carbs:\r\n              <strong> {substances.carbs ? substances.carbs : '0'}g</strong>\r\n            </p>\r\n            <p className=\"card-footer-item is-size-7\">\r\n              Calories:\r\n              <strong> {substances.calories ? substances.calories : '0'} kcal</strong>\r\n            </p>\r\n          </footer>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  removeMeal: (dayId, mealType) => dispatch(removeMealAction(dayId, mealType)),\r\n  recountSubstances: () => dispatch(recountSubstancesAction()),\r\n  bookmarkMeal: (name, substances, ingredients) =>\r\n    dispatch(bookmarkMealAction(name, substances, ingredients)),\r\n});\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { savedMeals } = state;\r\n  return {\r\n    savedMeals,\r\n  };\r\n};\r\n\r\nMealNote.propTypes = {\r\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]).isRequired,\r\n  recountSubstances: PropTypes.func.isRequired,\r\n  bookmarkMeal: PropTypes.func.isRequired,\r\n  time: PropTypes.string.isRequired,\r\n  type: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  dayId: PropTypes.number.isRequired,\r\n  removeMeal: PropTypes.func.isRequired,\r\n  ingredients: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  substances: PropTypes.shape({\r\n    proteins: PropTypes.number,\r\n    fats: PropTypes.number,\r\n    carbs: PropTypes.number,\r\n    calories: PropTypes.number,\r\n  }),\r\n  savedMeals: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n};\r\n\r\nMealNote.defaultProps = {\r\n  substances: PropTypes.shape({\r\n    proteins: 0,\r\n    fats: 0,\r\n    carbs: 0,\r\n    calories: 0,\r\n  }),\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MealNote);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport Card from '../templates/Card';\r\nimport IngredientSnippet from '../components/IngredientSnippet';\r\nimport MealNote from '../components/MealNote';\r\nimport MealModal from '../components/MealModal';\r\n\r\nclass Day extends React.Component {\r\n  state = {\r\n    modalOpened: false,\r\n  };\r\n\r\n  handleAddNew = (e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      modalOpened: true,\r\n    });\r\n  };\r\n\r\n  handleCloseModal = () => {\r\n    this.setState({\r\n      modalOpened: false,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { days, match } = this.props;\r\n    const { modalOpened } = this.state;\r\n    const dayParam = match.params.day;\r\n    const thisDate = `/${dayParam}`;\r\n    const thisDay = days.filter((d) => d.path === thisDate)[0];\r\n\r\n    const mealList = !thisDay.meals.length ? (\r\n      <p className=\"subtitle is-size-4 has-text-centered\">No meals in this day yet</p>\r\n    ) : (\r\n      thisDay.meals.map((m) => {\r\n        const ingredientList = !m.ingredients.length ? (\r\n          <p className=\"subtitle is-size-4 has-text-centered\">No ingredients in this meal yet</p>\r\n        ) : (\r\n          m.ingredients.map((i) => (\r\n            <IngredientSnippet\r\n              key={`${i.name}-${m.time}`}\r\n              name={i.name}\r\n              substances={i.substances}\r\n              ingredientNames={m.ingredients.map((v) => v.name)}\r\n              quantity={i.quantity}\r\n              path={i.path}\r\n              mealType={m.type}\r\n              dayId={thisDay.id}\r\n            />\r\n          ))\r\n        );\r\n        return (\r\n          <MealNote\r\n            key={`mn${m.time}`}\r\n            substances={m.substances}\r\n            ingredients={m.ingredients}\r\n            name={m.name}\r\n            time={m.time}\r\n            path={m.path}\r\n            type={m.type}\r\n            dayId={thisDay.id}\r\n            days={days}\r\n          >\r\n            {ingredientList}\r\n          </MealNote>\r\n        );\r\n      })\r\n    );\r\n    return (\r\n      <>\r\n        {modalOpened && <MealModal days={days} dayId={thisDay.id} close={this.handleCloseModal} />}\r\n        <Card title={`Day ${dayParam}`} subtitle=\"Organize your meals in this day\">\r\n          <div className=\"add-new has-text-centered\">\r\n            <p className=\"subtitle has-text-centered\">Add new meal to this day:</p>\r\n            <button type=\"button\" className=\"button\" onClick={this.handleAddNew}>\r\n              Add meal\r\n            </button>\r\n          </div>\r\n          {mealList}\r\n        </Card>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { days } = state;\r\n  return {\r\n    days,\r\n  };\r\n};\r\n\r\nDay.propTypes = {\r\n  days: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  match: PropTypes.shape({\r\n    params: PropTypes.object.isRequired,\r\n    path: PropTypes.string.isRequired,\r\n    url: PropTypes.string.isRequired,\r\n    isExact: PropTypes.bool.isRequired,\r\n  }).isRequired,\r\n};\r\n\r\nexport default connect(mapStateToProps)(Day);\r\n","import {\r\n  SAVE_BMR,\r\n  SAVE_PROPORTIONS,\r\n  SAVE_GOAL,\r\n  SAVE_NEW_DAY,\r\n  EDIT_DAY,\r\n  REMOVE_DAY,\r\n  SAVE_NEW_MEAL,\r\n  EDIT_MEAL,\r\n  REMOVE_MEAL,\r\n  RECOUNT_SUBSTANCES,\r\n  ADD_INGREDIENT,\r\n  REMOVE_INGREDIENT,\r\n  EDIT_INGREDIENT,\r\n  BOOKMARK_MEAL,\r\n  BOOKMARK_INGREDIENT,\r\n  REMOVE_BOOKMARKED_MEAL,\r\n  REMOVE_BOOKMARKED_INGREDIENT,\r\n  USER_REGISTER,\r\n  USER_LOGIN,\r\n  USER_LOGOUT,\r\n} from '../actions';\r\nimport { floorToOne, saveDB } from '../utils';\r\n\r\nconst initialState = {\r\n  days: [\r\n    {\r\n      id: 0,\r\n      date: new Date(2020, 3, 26),\r\n      path: '/2020-03-26',\r\n      substances: {\r\n        proteins: 111,\r\n        fats: 52.1,\r\n        carbs: 227,\r\n        calories: 1798.9,\r\n      },\r\n      meals: [\r\n        {\r\n          type: 'Breakfast',\r\n          name: 'Oatmeal with cheese',\r\n          time: new Date(2020, 3, 26, 7, 30).toString(),\r\n          substances: {\r\n            proteins: 27.8,\r\n            fats: 13.6,\r\n            carbs: 74.1,\r\n            calories: 543,\r\n          },\r\n          ingredients: [\r\n            {\r\n              name: 'Milk',\r\n              quantity: 200,\r\n              substances: {\r\n                proteins: 6.4,\r\n                fats: 6.4,\r\n                carbs: 9.4,\r\n                calories: 120,\r\n              },\r\n            },\r\n            {\r\n              name: 'Oatmeal',\r\n              quantity: 100,\r\n              substances: {\r\n                proteins: 11.9,\r\n                fats: 7.2,\r\n                carbs: 63,\r\n                calories: 378,\r\n              },\r\n            },\r\n            {\r\n              name: 'Cottage cheese',\r\n              quantity: 50,\r\n              substances: {\r\n                proteins: 9.5,\r\n                fats: 0,\r\n                carbs: 1.7,\r\n                calories: 45,\r\n              },\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          type: 'Lunch',\r\n          name: 'Chicken with rice and salad',\r\n          time: new Date(2020, 3, 26, 12, 30).toString(),\r\n          substances: {\r\n            proteins: 48.66,\r\n            fats: 52.1,\r\n            carbs: 74.4,\r\n            calories: 463.5,\r\n          },\r\n          ingredients: [\r\n            {\r\n              name: 'Chicken',\r\n              quantity: 150,\r\n              substances: {\r\n                proteins: 34.5,\r\n                fats: 2.5,\r\n                carbs: 9.4,\r\n                calories: 160.5,\r\n              },\r\n            },\r\n            {\r\n              name: 'Rice',\r\n              quantity: 75,\r\n              substances: {\r\n                proteins: 11.9,\r\n                fats: 0.5,\r\n                carbs: 58.5,\r\n                calories: 262.5,\r\n              },\r\n            },\r\n            {\r\n              name: 'Carrot',\r\n              quantity: 50,\r\n              substances: {\r\n                proteins: 0.46,\r\n                fats: 0.22,\r\n                carbs: 3.05,\r\n                calories: 18,\r\n              },\r\n            },\r\n            {\r\n              name: 'Green beans',\r\n              quantity: 75,\r\n              substances: {\r\n                proteins: 1.8,\r\n                fats: 0.15,\r\n                carbs: 3.45,\r\n                calories: 22.5,\r\n              },\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          type: 'Snack 1',\r\n          name: 'Apple and hazelnuts',\r\n          time: new Date(2020, 3, 26, 17, 0).toString(),\r\n          substances: {\r\n            proteins: 5.93,\r\n            fats: 25,\r\n            carbs: 21.5,\r\n            calories: 340.4,\r\n          },\r\n          ingredients: [\r\n            {\r\n              name: 'Apple',\r\n              quantity: 150,\r\n              substances: {\r\n                proteins: 0.33,\r\n                fats: 0.2,\r\n                carbs: 17.1,\r\n                calories: 75,\r\n              },\r\n            },\r\n            {\r\n              name: 'Hazelnuts',\r\n              quantity: 40,\r\n              substances: {\r\n                proteins: 5.6,\r\n                fats: 24.8,\r\n                carbs: 4.4,\r\n                calories: 265.4,\r\n              },\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          type: 'Supper',\r\n          name: 'Sandwiches with ham and salad',\r\n          time: new Date(2020, 3, 26, 20, 0).toString(),\r\n          substances: {\r\n            proteins: 28.6,\r\n            fats: 10.14,\r\n            carbs: 57,\r\n            calories: 452.4,\r\n          },\r\n          ingredients: [\r\n            {\r\n              name: 'Bread',\r\n              quantity: 120,\r\n              substances: {\r\n                proteins: 10.2,\r\n                fats: 6.24,\r\n                carbs: 55.2,\r\n                calories: 335,\r\n              },\r\n            },\r\n            {\r\n              name: 'Ham',\r\n              quantity: 80,\r\n              substances: {\r\n                proteins: 16.8,\r\n                fats: 2.4,\r\n                carbs: 0.4,\r\n                calories: 90.4,\r\n              },\r\n            },\r\n            {\r\n              name: 'Salad',\r\n              quantity: 20,\r\n              substances: {\r\n                proteins: 1.6,\r\n                fats: 1.5,\r\n                carbs: 1.4,\r\n                calories: 27.2,\r\n              },\r\n            },\r\n          ],\r\n        },\r\n      ],\r\n    },\r\n  ],\r\n  savedMeals: [\r\n    {\r\n      type: 'Breakfast',\r\n      name: 'Oatmeal with cheese',\r\n      substances: {\r\n        proteins: 27.8,\r\n        fats: 13.6,\r\n        carbs: 74.1,\r\n        calories: 543,\r\n      },\r\n      ingredients: [\r\n        {\r\n          name: 'Milk',\r\n          quantity: 200,\r\n          substances: {\r\n            proteins: 6.4,\r\n            fats: 6.4,\r\n            carbs: 9.4,\r\n            calories: 120,\r\n          },\r\n        },\r\n        {\r\n          name: 'Oatmeal',\r\n          quantity: 100,\r\n          substances: {\r\n            proteins: 11.9,\r\n            fats: 7.2,\r\n            carbs: 63,\r\n            calories: 378,\r\n          },\r\n        },\r\n        {\r\n          name: 'Cottage cheese',\r\n          quantity: 50,\r\n          substances: {\r\n            proteins: 9.5,\r\n            fats: 0,\r\n            carbs: 1.7,\r\n            calories: 45,\r\n          },\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      type: 'Lunch',\r\n      name: 'Chicken with rice and salad',\r\n      time: new Date(2020, 3, 26, 12, 30).toString(),\r\n      substances: {\r\n        proteins: 48.66,\r\n        fats: 3.37,\r\n        carbs: 74.4,\r\n        calories: 463.5,\r\n      },\r\n      ingredients: [\r\n        {\r\n          name: 'Chicken',\r\n          quantity: 150,\r\n          substances: {\r\n            proteins: 34.5,\r\n            fats: 2.5,\r\n            carbs: 9.4,\r\n            calories: 160.5,\r\n          },\r\n        },\r\n        {\r\n          name: 'Rice',\r\n          quantity: 75,\r\n          substances: {\r\n            proteins: 11.9,\r\n            fats: 0.5,\r\n            carbs: 58.5,\r\n            calories: 262.5,\r\n          },\r\n        },\r\n        {\r\n          name: 'Carrot',\r\n          quantity: 50,\r\n          substances: {\r\n            proteins: 0.46,\r\n            fats: 0.22,\r\n            carbs: 3.05,\r\n            calories: 18,\r\n          },\r\n        },\r\n        {\r\n          name: 'Green beans',\r\n          quantity: 75,\r\n          substances: {\r\n            proteins: 1.8,\r\n            fats: 0.15,\r\n            carbs: 3.45,\r\n            calories: 22.5,\r\n          },\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      type: 'Snack',\r\n      name: 'Apple and hazelnuts',\r\n      time: new Date(2020, 3, 26, 17, 0).toString(),\r\n      substances: {\r\n        proteins: 5.93,\r\n        fats: 25,\r\n        carbs: 21.5,\r\n        calories: 340.4,\r\n      },\r\n      ingredients: [\r\n        {\r\n          name: 'Apple',\r\n          quantity: 150,\r\n          substances: {\r\n            proteins: 0.33,\r\n            fats: 0.2,\r\n            carbs: 17.1,\r\n            calories: 75,\r\n          },\r\n        },\r\n        {\r\n          name: 'Hazelnuts',\r\n          quantity: 40,\r\n          substances: {\r\n            proteins: 5.6,\r\n            fats: 24.8,\r\n            carbs: 4.4,\r\n            calories: 265.4,\r\n          },\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      type: 'Supper',\r\n      name: 'Sandwiches with ham and salad',\r\n      time: new Date(2020, 3, 26, 20, 0).toString(),\r\n      substances: {\r\n        proteins: 28.6,\r\n        fats: 10.14,\r\n        carbs: 57,\r\n        calories: 452.4,\r\n      },\r\n      ingredients: [\r\n        {\r\n          name: 'Bread',\r\n          quantity: 120,\r\n          substances: {\r\n            proteins: 10.2,\r\n            fats: 6.24,\r\n            carbs: 55.2,\r\n            calories: 335,\r\n          },\r\n        },\r\n        {\r\n          name: 'Ham',\r\n          quantity: 80,\r\n          substances: {\r\n            proteins: 16.8,\r\n            fats: 2.4,\r\n            carbs: 0.4,\r\n            calories: 90.4,\r\n          },\r\n        },\r\n        {\r\n          name: 'Salad',\r\n          quantity: 20,\r\n          substances: {\r\n            proteins: 1.6,\r\n            fats: 1.5,\r\n            carbs: 1.4,\r\n            calories: 27.2,\r\n          },\r\n        },\r\n      ],\r\n    },\r\n  ],\r\n  savedIngredients: [\r\n    {\r\n      name: 'Apple',\r\n      substances: {\r\n        proteins: 0.26,\r\n        fats: 0.17,\r\n        carbs: 11.41,\r\n        calories: 50,\r\n      },\r\n    },\r\n    {\r\n      name: 'Chicken',\r\n      substances: {\r\n        proteins: 21,\r\n        fats: 1.5,\r\n        carbs: 0,\r\n        calories: 100,\r\n      },\r\n    },\r\n  ],\r\n  config: {\r\n    BMR: 2200,\r\n    goal: 0,\r\n    ratioP: 2,\r\n    ratioF: 1,\r\n    ratioC: 3,\r\n    Pmin: 174,\r\n    Pmax: 191,\r\n    Fmin: 38,\r\n    Fmax: 42,\r\n    Cmin: 262,\r\n    Cmax: 287,\r\n  },\r\n  loggedAs: '',\r\n};\r\n\r\nconst rootReducer = (state = initialState, action) => {\r\n  let helper;\r\n  switch (action.type) {\r\n    case SAVE_BMR:\r\n      return saveDB({\r\n        ...state,\r\n        config: {\r\n          ...state.config,\r\n          BMR: action.payload.BMRresult,\r\n        },\r\n      });\r\n    case SAVE_PROPORTIONS:\r\n      return saveDB({\r\n        ...state,\r\n        config: { ...state.config, ...action.payload.properties },\r\n      });\r\n    case SAVE_GOAL:\r\n      return saveDB({\r\n        ...state,\r\n        config: {\r\n          ...state.config,\r\n          goal: action.payload.goal,\r\n        },\r\n      });\r\n    case SAVE_NEW_DAY:\r\n      return saveDB({\r\n        ...state,\r\n        days: [\r\n          ...state.days,\r\n          {\r\n            id: Math.max(...state.days.map((d) => d.id)) + 1,\r\n            date: action.payload.date,\r\n            substances: {\r\n              proteins: 0,\r\n              fats: 0,\r\n              carbs: 0,\r\n              calories: 0,\r\n            },\r\n            path: `/${action.payload.date.getFullYear()}-${\r\n              action.payload.date.getMonth().toString().length === 2\r\n                ? action.payload.date.getMonth() + 1\r\n                : `0${action.payload.date.getMonth() + 1}`\r\n            }-${\r\n              action.payload.date.getDate().toString().length === 2\r\n                ? action.payload.date.getDate()\r\n                : `0${action.payload.date.getDate()}`\r\n            }`,\r\n            meals: [],\r\n          },\r\n        ].sort((a, b) => new Date(a.date) > new Date(b.date)),\r\n      });\r\n    case EDIT_DAY:\r\n      [helper] = state.days.filter((d) => d.id === action.payload.dayId);\r\n      helper.date = action.payload.date;\r\n      helper.path = `/${action.payload.date.getFullYear()}-${\r\n        action.payload.date.getMonth().toString().length === 2\r\n          ? action.payload.date.getMonth() + 1\r\n          : `0${action.payload.date.getMonth() + 1}`\r\n      }-${\r\n        action.payload.date.getDate().toString().length === 2\r\n          ? action.payload.date.getDate()\r\n          : `0${action.payload.date.getDate()}`\r\n      }`;\r\n      return saveDB({\r\n        ...state,\r\n        days: [...state.days.filter((d) => d.id !== action.payload.dayId), helper].sort(\r\n          (a, b) => new Date(a.date) > new Date(b.date),\r\n        ),\r\n      });\r\n    case REMOVE_DAY:\r\n      return saveDB({\r\n        ...state,\r\n        days: state.days\r\n          .filter((d) => d.id !== action.payload.id)\r\n          .sort((a, b) => new Date(a.date) > new Date(b.date)),\r\n      });\r\n    case REMOVE_MEAL:\r\n      [helper] = state.days.filter((d) => d.id === action.payload.dayId);\r\n      helper.meals = helper.meals.filter((m) => m.type !== action.payload.mealType);\r\n      return saveDB({\r\n        ...state,\r\n        days: [...state.days.filter((d) => d.id !== action.payload.dayId), helper],\r\n      });\r\n    case SAVE_NEW_MEAL:\r\n      [helper] = state.days.filter((d) => d.id === action.payload.dayId);\r\n      helper.meals.push({\r\n        ...action.payload.properties,\r\n      });\r\n      helper.meals.sort((a, b) => {\r\n        return new Date(a.time) > new Date(b.time);\r\n      });\r\n      return saveDB({\r\n        ...state,\r\n        days: [...state.days.filter((d) => d.id !== action.payload.dayId), helper],\r\n      });\r\n    case EDIT_MEAL:\r\n      [helper] = state.days.filter((d) => d.id === action.payload.dayId);\r\n      helper.meals = helper.meals\r\n        .map((m) => {\r\n          if (m.type === action.payload.prevType) {\r\n            return {\r\n              ...m,\r\n              ...action.payload.properties,\r\n            };\r\n          }\r\n          return m;\r\n        })\r\n        .sort((a, b) => new Date(a.time) > new Date(b.time));\r\n      return saveDB({\r\n        ...state,\r\n        days: [...state.days.filter((d) => d.id !== action.payload.dayId), helper].sort(\r\n          (a, b) => new Date(a.date) > new Date(b.date),\r\n        ),\r\n      });\r\n    case RECOUNT_SUBSTANCES:\r\n      helper = state.days.map((d) => {\r\n        const day = d;\r\n        day.meals = d.meals.map((m) => {\r\n          const meal = m;\r\n          meal.substances.proteins = floorToOne(\r\n            meal.ingredients.reduce((p, n) => p + n.substances.proteins, 0),\r\n          );\r\n          meal.substances.fats = floorToOne(\r\n            meal.ingredients.reduce((p, n) => p + n.substances.fats, 0),\r\n          );\r\n          meal.substances.carbs = floorToOne(\r\n            meal.ingredients.reduce((p, n) => p + n.substances.carbs, 0),\r\n          );\r\n          meal.substances.calories = floorToOne(\r\n            meal.ingredients.reduce((p, n) => p + n.substances.calories, 0),\r\n          );\r\n          return meal;\r\n        });\r\n        day.substances.proteins = floorToOne(\r\n          d.meals.reduce((p, n) => p + n.substances.proteins, 0),\r\n        );\r\n        day.substances.fats = floorToOne(d.meals.reduce((p, n) => p + n.substances.fats, 0));\r\n        day.substances.carbs = floorToOne(d.meals.reduce((p, n) => p + n.substances.carbs, 0));\r\n        day.substances.calories = floorToOne(\r\n          d.meals.reduce((p, n) => p + n.substances.calories, 0),\r\n        );\r\n        return day;\r\n      });\r\n      return saveDB({\r\n        ...state,\r\n        helper,\r\n      });\r\n    case REMOVE_BOOKMARKED_MEAL:\r\n      return saveDB({\r\n        ...state,\r\n        savedMeals: state.savedMeals.filter(\r\n          (m) => m.name !== action.payload.name && m.type !== action.payload.type,\r\n        ),\r\n      });\r\n    case ADD_INGREDIENT:\r\n      [helper] = state.days.filter((d) => d.id === action.payload.dayId);\r\n      helper.meals = helper.meals.map((m) => {\r\n        if (m.type === action.payload.mealType) {\r\n          m.ingredients.push({\r\n            name: action.payload.name,\r\n            quantity: action.payload.quantity,\r\n            substances: action.payload.substances,\r\n          });\r\n        }\r\n        return m;\r\n      });\r\n      return saveDB({\r\n        ...state,\r\n        days: [...state.days.filter((d) => d.id !== action.payload.dayId), helper].sort(\r\n          (a, b) => new Date(a.date) > new Date(b.date),\r\n        ),\r\n      });\r\n    case REMOVE_INGREDIENT:\r\n      helper = state.days.map((d) => {\r\n        if (d.id === action.payload.dayId) {\r\n          d.meals.map((m) => {\r\n            const meal = m;\r\n            if (m.type === action.payload.mealType) {\r\n              meal.ingredients = [...m.ingredients.filter((i) => i.name !== action.payload.name)];\r\n            }\r\n            return meal;\r\n          });\r\n          return d;\r\n        }\r\n        return d;\r\n      });\r\n      return saveDB({\r\n        ...state,\r\n        days: helper,\r\n      });\r\n    case EDIT_INGREDIENT:\r\n      [helper] = state.days.filter((d) => d.id === action.payload.dayId);\r\n      helper.meals = helper.meals.map((m) => {\r\n        const meal = m;\r\n        if (m.type === action.payload.mealType) {\r\n          meal.ingredients = m.ingredients.map((i) => {\r\n            const ingredient = i;\r\n            if (\r\n              i.name === action.payload.prevName &&\r\n              (action.payload.name === action.payload.prevName || action.payload.name === '')\r\n            ) {\r\n              ingredient.quantity = action.payload.quantity;\r\n              ingredient.substances = action.payload.substances;\r\n            }\r\n            if (\r\n              i.name === action.payload.prevName &&\r\n              action.payload.name !== action.payload.prevName\r\n            ) {\r\n              ingredient.name = action.payload.name;\r\n            }\r\n            return i;\r\n          });\r\n        }\r\n        return m;\r\n      });\r\n      return saveDB({\r\n        ...state,\r\n        days: [...state.days.filter((d) => d.id !== action.payload.dayId), helper].sort(\r\n          (a, b) => new Date(a.date) > new Date(b.date),\r\n        ),\r\n      });\r\n    case BOOKMARK_MEAL:\r\n      return saveDB({\r\n        ...state,\r\n        savedMeals: [\r\n          {\r\n            name: action.payload.name,\r\n            substances: action.payload.substances,\r\n            ingredients: action.payload.ingredients,\r\n          },\r\n          ...state.savedMeals,\r\n        ],\r\n      });\r\n    case REMOVE_BOOKMARKED_INGREDIENT:\r\n      helper = state.savedIngredients.filter((i) => i.name !== action.payload.name);\r\n      return saveDB({\r\n        ...state,\r\n        savedIngredients: helper,\r\n      });\r\n    case BOOKMARK_INGREDIENT:\r\n      return saveDB({\r\n        ...state,\r\n        savedIngredients: [\r\n          { name: action.payload.name, substances: action.payload.substances },\r\n          ...state.savedIngredients,\r\n        ],\r\n      });\r\n    case USER_REGISTER: {\r\n      if (action.payload.data.error) {\r\n        return state;\r\n      }\r\n      localStorage.removeItem('token');\r\n      localStorage.removeItem('loggedAs');\r\n      localStorage.setItem('token', action.payload.data.token);\r\n      localStorage.setItem('loggedAs', action.payload.data.email);\r\n      return { ...state, loggedAs: action.payload.data.email };\r\n    }\r\n    case USER_LOGIN: {\r\n      if (action.payload.data.error) {\r\n        return state;\r\n      }\r\n      localStorage.removeItem('token');\r\n      localStorage.removeItem('loggedAs');\r\n      localStorage.setItem('token', action.payload.data.token);\r\n      localStorage.setItem('loggedAs', action.payload.data.state.loggedAs);\r\n      return action.payload.data.state;\r\n    }\r\n    case USER_LOGOUT: {\r\n      localStorage.removeItem('token');\r\n      localStorage.removeItem('loggedAs');\r\n      return initialState;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default rootReducer;\r\n","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport { persistStore, persistReducer } from 'redux-persist';\r\nimport thunk from 'redux-thunk';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport rootReducer from '../reducer';\r\n\r\nconst persistConfig = {\r\n  key: 'root',\r\n  storage,\r\n};\r\n\r\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\r\n\r\n// eslint-disable-next-line no-undef\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(persistedReducer, composeEnhancers(applyMiddleware(thunk)));\r\n\r\nconst persistor = persistStore(store);\r\n\r\nexport default { store, persistor };\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\nimport { routes } from '../routes';\r\nimport Header from '../templates/Header';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\nimport Dashboard from './Dashboard';\r\nimport SavedMeals from './SavedMeals';\r\nimport SavedIngredients from './SavedIngredients';\r\nimport Configuration from './Configuration';\r\nimport Day from './Day';\r\nimport store from '../store';\r\n\r\nconst Root = () => (\r\n  <Provider store={store.store}>\r\n    <PersistGate persistor={store.persistor}>\r\n      <Router>\r\n        <Header />\r\n        <main>\r\n          <div className=\"container\">\r\n            <Switch>\r\n              <Route exact path={routes.home}>\r\n                <Redirect to={routes.dashboard} />\r\n              </Route>\r\n              <Route exact path={routes.login} component={Login} />\r\n              <Route exact path={routes.register} component={Register} />\r\n              <Route exact path={routes.dashboard} component={Dashboard} />\r\n              <Route exact path={routes.meals} component={SavedMeals} />\r\n              <Route exact path={routes.ingredients} component={SavedIngredients} />\r\n              <Route exact path={routes.config} component={Configuration} />\r\n              <Route exact path={routes.day} component={Day} />\r\n            </Switch>\r\n          </div>\r\n        </main>\r\n      </Router>\r\n    </PersistGate>\r\n  </Provider>\r\n);\r\n\r\nexport default Root;\r\n","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport Root from \"./views/Root.js\"\r\nimport \"./theme/custom.scss\"\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Root />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\"),\r\n)\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.9a9864f6.svg\";"],"sourceRoot":""}