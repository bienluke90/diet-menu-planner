(this["webpackJsonpdiet-menu-planner"]=this["webpackJsonpdiet-menu-planner"]||[]).push([[0],{101:function(e,a,t){e.exports=t(208)},207:function(e,a,t){},208:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),r=t(24),l=t.n(r),c=t(19),o=t(32),i=t(5),m=t(93),d="/",u="/dashboard/",p="/dashboard/days/:day",h="/meals/",b="/ingredients/",g="/configuration",E="/login",f="/register",y=t(8),v=t(9),N=t(48),S=t(10),O=t(11),k=t(94),w=t.n(k),C=t(4),M=t(35),j=t.n(M),x=window.location.origin,I=function(e){Object(O.a)(t,e);var a=Object(S.a)(t);function t(){var e;Object(y.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=a.call.apply(a,[this].concat(s))).state={navOpened:!1},e.componentDidMount=function(){document.addEventListener("click",e.handleClickOutside,!0)},e.componentWillUnmount=function(){document.removeEventListener("click",e.handleClickOutside,!0)},e.handleNavClick=function(a){document.body.clientWidth<1024&&e.setState((function(e){return{navOpened:!e.navOpened}}))},e.handleClickOutside=function(a){var t=l.a.findDOMNode(Object(N.a)(e));t&&t.contains(a.target)||e.setState({navOpened:!1})},e}return Object(v.a)(t,[{key:"render",value:function(){var e=this.props,a=e.loggedAs,t=e.logout,n=e.history,r=this.state.navOpened;return s.a.createElement("header",null,s.a.createElement("nav",{className:"navbar"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"navbar-brand"},s.a.createElement(c.b,{className:"navbar-item",to:d,onClick:this.handleNavClick},s.a.createElement("img",{src:w.a,alt:"Diet menu planner logo"}),s.a.createElement("span",{className:"navbar-title"},"Diet menu planner")),s.a.createElement("button",{type:"button",className:"navbar-burger burger","aria-label":"menu","aria-expanded":"".concat(r),"data-target":"mainNavbar",onClick:this.handleNavClick},s.a.createElement("span",{"aria-hidden":"true"}),s.a.createElement("span",{"aria-hidden":"true"}),s.a.createElement("span",{"aria-hidden":"true"}))),s.a.createElement("div",{id:"mainNavbar",className:"navbar-menu ".concat(r?"active":"")},s.a.createElement("div",{className:"navbar-start"},s.a.createElement(c.b,{className:"navbar-item",to:u,onClick:this.handleNavClick},"Dashboard"),s.a.createElement(c.b,{className:"navbar-item",to:h,onClick:this.handleNavClick},"Meals"),s.a.createElement(c.b,{className:"navbar-item",to:b,onClick:this.handleNavClick},"Ingredients"),s.a.createElement(c.b,{className:"navbar-item",to:g,onClick:this.handleNavClick},"Configuration")),s.a.createElement("div",{className:"navbar-end"},s.a.createElement("div",{className:"navbar-item"},s.a.createElement("div",{className:"buttons"},s.a.createElement(c.b,{className:"button is-primary",to:f,onClick:this.handleNavClick},"Register"),!a&&s.a.createElement(c.b,{className:"button is-light",to:E,onClick:this.handleNavClick},"Log in"),a&&s.a.createElement("button",{onClick:function(){t(),n.push(u)},type:"button",className:"button is-light"},"Log out"))))))))}}]),t}(s.a.Component);I.defaultProps={loggedAs:""};var D=Object(o.g)(Object(i.b)((function(e){return{loggedAs:e.loggedAs}}),(function(e){return{logout:function(){return e({type:"USER_LOGOUT"})}}}))(I)),F=t(17),B=t(14),A=function(e){Object(O.a)(t,e);var a=Object(S.a)(t);function t(){var e;Object(y.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=a.call.apply(a,[this].concat(s))).state={error:"",email:"",password:"",loginError:!1},e.handleInputChange=function(a){var t=a.target.getAttribute("id").split("-"),n=Object(B.a)(t,2)[1];e.setState(Object(F.a)({error:"",loginError:!1},n,a.target.value))},e.handleLoginButton=function(){var a=e.state,t=a.email,n=a.password,s=e.props,r=s.login,l=s.history;t&&n?r(t,n,(function(a){e.setState({loginError:a})}),(function(){l.push(u)})):e.setState({error:"Provide correct data and try again"})},e}return Object(v.a)(t,[{key:"render",value:function(){var e=this.state,a=e.email,t=e.password,n=e.error,r=e.loginError;return s.a.createElement("div",{className:"card-form"},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-content has-text-centered"},s.a.createElement("p",{className:"title"},"Log in"),s.a.createElement("p",{className:"subtitle"},"Please, log in filling your e-mail address and password given by registration."),s.a.createElement("div",{className:"field has-text-left"},s.a.createElement("p",{className:"control has-icons-left has-icons-right"},s.a.createElement("label",{className:"label",htmlFor:"user-email"},"User e-mail address",s.a.createElement("input",{id:"user-email",className:"input",type:"email",placeholder:"Email",value:a,onChange:this.handleInputChange}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-envelope"})),s.a.createElement("span",{className:"icon is-small is-right"},s.a.createElement("i",{className:"fas fa-check"}))))),s.a.createElement("div",{className:"field has-text-left"},s.a.createElement("p",{className:"control has-icons-left"},s.a.createElement("label",{className:"label",htmlFor:"user-password"},"User password",s.a.createElement("input",{id:"user-password",className:"input",type:"password",placeholder:"Password",value:t,onChange:this.handleInputChange}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-lock"})))),n&&s.a.createElement("p",{className:"has-text-danger"},n),r&&s.a.createElement("p",{className:"has-text-danger"},r)),s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control"},s.a.createElement("button",{className:"button is-success",type:"submit",onClick:this.handleLoginButton},"Login"))))))}}]),t}(s.a.Component),R=Object(o.g)(Object(i.b)(null,(function(e){return{login:function(a,t,n,s){return e(function(e,a,t,n){return function(s){return j.a.post("".concat(x,"/api/login"),{email:e,password:a}).then((function(e){e.data.error?t(e.data.error):(s({type:"USER_LOGIN",payload:e}),n())})).catch((function(){t("An error occured during processing your request. Check if you are online")}))}}(a,t,n,s))}}}))(A)),z=function(e){Object(O.a)(t,e);var a=Object(S.a)(t);function t(){var e;Object(y.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=a.call.apply(a,[this].concat(s))).state={errorPswd:!1,errorEmail:!1,password:"",password2:"",email:"",registerError:!1},e.handleInputChange=function(a){var t=a.target.getAttribute("id").split("-"),n=Object(B.a)(t,2)[1];"email"!==n?e.setState(Object(F.a)({errorPswd:!1},n,a.target.value)):e.setState(Object(F.a)({errorEmail:!1,registerError:!1},n,a.target.value))},e.handleInputBlur=function(a){var t=e.state,n=t.password,s=t.password2,r=t.email,l=a.target.getAttribute("id").split("-"),c=Object(B.a)(l,2)[1];"email"!==c||/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(r)||!r?("password2"===c||"password"===c&&n&&s)&&(n!==s||n.length<8||s.length<8)&&e.setState({errorPswd:!0}):e.setState({errorEmail:!0})},e.handleRegisterButton=function(){var a=e.state,t=a.errorEmail,n=a.errorPswd,s=a.email,r=a.password,l=a.password2,c=e.props,o=c.state,i=c.register,m=c.history;!t&&!n&&s&&r&&l&&i(s,r,o,(function(a){e.setState({registerError:a})}),(function(){m.push(u)}))},e}return Object(v.a)(t,[{key:"render",value:function(){var e=this.state,a=e.password,t=e.password2,n=e.email,r=e.errorPswd,l=e.errorEmail,c=e.registerError;return s.a.createElement("div",{className:"card-form"},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-content has-text-centered"},s.a.createElement("p",{className:"title"},"Registration"),s.a.createElement("p",{className:"subtitle"},"You only need to provide e-mail address and password to create account and automatically log in. All days and meals you provided before registration will be added to your accout."),s.a.createElement("div",{className:"field has-text-left"},s.a.createElement("p",{className:"control has-icons-left has-icons-right"},s.a.createElement("label",{className:"label",htmlFor:"user-email"},"User e-mail address",s.a.createElement("input",{className:"input",id:"user-email",type:"email",placeholder:"Email",value:n,onChange:this.handleInputChange,onBlur:this.handleInputBlur}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-envelope"})))),l&&s.a.createElement("p",{className:"has-text-danger"},"This is not valid email address")),s.a.createElement("div",{className:"field has-text-left"},s.a.createElement("p",{className:"control has-icons-left"},s.a.createElement("label",{className:"label",htmlFor:"user-password"},"User password",s.a.createElement("input",{className:"input",id:"user-password",type:"password",placeholder:"Enter password",value:a,onChange:this.handleInputChange,onBlur:this.handleInputBlur}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-lock"}))))),s.a.createElement("div",{className:"field has-text-left"},s.a.createElement("p",{className:"control has-icons-left"},s.a.createElement("label",{className:"label",htmlFor:"user-password2"},"Confirm password",s.a.createElement("input",{className:"input",id:"user-password2",type:"password",placeholder:"Repeat password",value:t,onChange:this.handleInputChange,onBlur:this.handleInputBlur}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-lock"})))),r&&s.a.createElement("p",{className:"has-text-danger"},"Password must match in both fields and consist at least of 8 characters")),s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control"},s.a.createElement("button",{className:"button is-success",type:"submit",onClick:this.handleRegisterButton},"Register")),c&&s.a.createElement("p",{className:"has-text-danger"},c)))))}}]),t}(s.a.Component),_=Object(o.g)(Object(i.b)((function(e){return{state:e}}),(function(e){return{register:function(a,t,n,s,r){return e(function(e,a,t,n,s){return function(r){var l=Object(C.a)({},t,{loggedAs:e});return j.a.post("".concat(x,"/api/register"),{email:e,password:a,state:l}).then((function(e){e.data.error?n(e.data.error):(r({type:"USER_REGISTER",payload:e}),s())})).catch((function(){n("An error occured during processing your request. Check if you are online")}))}}(a,t,n,s,r))}}}))(z)),T=function(e){var a=e.children,t=e.title,n=e.subtitle;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"card"},s.a.createElement("h1",{className:"title has-text-centered"},t),s.a.createElement("p",{className:"subtitle has-text-centered"},n)),s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-content"},a)),s.a.createElement("div",{className:"has-text-centered"},s.a.createElement("a",{href:"https://world.openfoodfacts.org/"},"Powered By OpenFoodFacts.org")))},P=function(e){var a=e.title,t=e.subtitle,n=e.click;return s.a.createElement("div",{className:"modal"},s.a.createElement("div",{className:"modal-background"}),s.a.createElement("div",{className:"modal-card"},s.a.createElement("header",{className:"modal-card-head"},s.a.createElement("p",{className:"modal-card-title"},a)),s.a.createElement("section",{className:"modal-card-body"},s.a.createElement("p",{className:"subtitle"},t),s.a.createElement("button",{type:"button",onClick:function(){return n(!0)},className:"button is-danger"},"Delete"),s.a.createElement("button",{type:"button",onClick:function(){return n(!1)},className:"button is-success"},"Cancel"))))},q=function(e){return Math.floor(10*e)/10},L=function(e){var a=window.location.origin,t=localStorage.getItem("token");return Array.isArray(t)&&(t=t.join("")),t&&j()({url:"".concat(a,"/api/"),method:"post",data:{state:e},headers:{"x-auth-token":t,"Content-Type":"application/json"}}),e},G=function(e){Object(O.a)(t,e);var a=Object(S.a)(t);function t(){var e;Object(y.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=a.call.apply(a,[this].concat(s))).state={removeModalShow:!1},e.handleRemoveButton=function(a){a.preventDefault(),e.setState({removeModalShow:!0})},e.handleBackButton=function(){e.setState({removeModalShow:!1})},e.handleRemoveModal=function(a){var t=e.props,n=t.type,s=t.name,r=t.removeBookmarkedMeal;a&&r(n,s),e.setState({removeModalShow:!1})},e}return Object(v.a)(t,[{key:"render",value:function(){var e=this.props,a=e.name,t=e.type,n=e.time,r=e.substances,l=e.ingredients,c=e.isRemovable,o=this.state.removeModalShow,i=new Date(n),m=l.map((function(e){return e.name})).join(", ");return s.a.createElement(s.a.Fragment,null,c&&o&&s.a.createElement(P,{title:"Are you sure?",subtitle:"Do you really want to delete saved meal called: ".concat(a),click:this.handleRemoveModal}),s.a.createElement("div",{className:"box meal-snippet has-text-grey-darker"},s.a.createElement("h3",{className:"title is-size-5"},a),n&&s.a.createElement("h4",{className:"subtitle has-text-grey is-size-6"},"".concat(t," ").concat(2===i.getHours().toString().length?i.getHours():"0".concat(i.getHours()),":").concat(2===i.getMinutes().toString().length?i.getMinutes():"0".concat(i.getMinutes())," ")),c&&s.a.createElement("h4",{className:"subtitle has-text-grey is-size-6"},m),c&&s.a.createElement("a",{href:"/",onClick:this.handleRemoveButton,className:"has-text-danger"},"Remove"),s.a.createElement("footer",{className:"is-size-7"},s.a.createElement("p",null,s.a.createElement("span",null,"Proteins:",s.a.createElement("b",null," ",r.proteins?q(r.proteins):"-- ","g")),s.a.createElement("span",null,"Fats:",s.a.createElement("b",null," ",r.fats?q(r.fats):"-- ","g")),s.a.createElement("span",null,"Carbs:",s.a.createElement("b",null," ",r.carbs?q(r.carbs):"-- ","g")),s.a.createElement("span",null,"kcal:",s.a.createElement("b",null," ",r.calories?q(r.calories):"-- ","kcal"))))))}}]),t}(s.a.Component);G.defaultProps={isRemovable:!1,ingredients:[],type:""};var U=Object(i.b)(null,(function(e){return{removeBookmarkedMeal:function(a,t){return e(function(e,a){return{type:"REMOVE_BOOKMARKED_MEAL",payload:{type:e,name:a}}}(a,t))}}}))(G),H=t(95),Y=t.n(H),V=(t(86),function(e){Object(O.a)(t,e);var a=Object(S.a)(t);function t(){var e;Object(y.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=a.call.apply(a,[this].concat(s))).state={date:null,isSelected:!1,error:!1,dateExists:!1},e.componentDidMount=function(){document.getElementById("document-root").classList.add("no-overflow")},e.componentWillUnmount=function(){document.getElementById("document-root").classList.remove("no-overflow")},e.handleDateChange=function(a){e.props.days.map((function(e){return new Date(e.date).getTime()})).includes(new Date(a).getTime())?e.setState({date:null,dateExists:!0}):e.setState({date:a,isSelected:!0,dateExists:!1,error:!1})},e.handleSaveDay=function(){var a=e.state,t=a.date,n=a.isSelected,s=e.props,r=s.saveNewDay,l=s.close,c=s.isEdit,o=s.editDay,i=s.dayId;if(n){if(c)return e.setState({isSelected:!1,dateExists:!1}),o(i,t),void l();e.setState({isSelected:!1,dateExists:!1}),r(t),l()}else e.setState({error:!0})},e}return Object(v.a)(t,[{key:"render",value:function(){var e=this.state,a=e.date,t=e.error,n=e.dateExists,r=this.props,l=r.isEdit,c=r.close;return s.a.createElement("div",{className:"modal"},s.a.createElement("div",{className:"modal-background"}," "),s.a.createElement("div",{className:"modal-card"},s.a.createElement("header",{className:"modal-card-head"},s.a.createElement("h1",{className:"is-size-4"},l?"Edit day":"Add new day")),s.a.createElement("section",null,s.a.createElement("div",{className:"control"},s.a.createElement("h2",{className:"is-size-5 has-text-weight-semibold"},"Select date:"),s.a.createElement(Y.a,{className:"input",selected:a,onChange:this.handleDateChange,shouldCloseOnSelect:!0})),t&&s.a.createElement("p",{className:"has-text-danger"},"Select date before saving"),n&&s.a.createElement("p",{className:"has-text-danger"},"This day is already set"),s.a.createElement("br",null),s.a.createElement("button",{type:"submit",className:"button is-success",onClick:c},"Back"),s.a.createElement("button",{type:"submit",className:"button is-info",onClick:this.handleSaveDay},"Save"))))}}]),t}(s.a.Component)),K=Object(i.b)((function(e){return{days:e.days,state:e}}),(function(e){return{editDay:function(a,t){return e(function(e,a){return{type:"EDIT_DAY",payload:{dayId:e,date:a}}}(a,t))},saveNewDay:function(a){return e(function(e){return{type:"SAVE_NEW_DAY",payload:{date:e}}}(a))}}}))(V),W=function(e){Object(O.a)(t,e);var a=Object(S.a)(t);function t(){var e;Object(y.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=a.call.apply(a,[this].concat(s))).state={removeModalShow:!1,editModalShow:!1},e.handleEditButton=function(a){a.preventDefault(),e.setState({editModalShow:!0})},e.handleRemoveButton=function(a){a.preventDefault(),e.setState({removeModalShow:!0})},e.handleBackButton=function(){e.setState({editModalShow:!1})},e.handleRemoveModal=function(a){var t=e.props,n=t.identity,s=t.removeDay;a&&s(n),e.setState({removeModalShow:!1})},e}return Object(v.a)(t,[{key:"render",value:function(){var e=this.props,a=e.children,t=e.path,n=e.date,r=e.substances,l=e.config,c=e.identity,o=this.state,i=o.removeModalShow,m=o.editModalShow,d=new Date(n);return s.a.createElement(s.a.Fragment,null,i&&s.a.createElement(P,{title:"Are you sure?",subtitle:"Do you really want to remove this day?",click:this.handleRemoveModal}),m&&s.a.createElement(K,{title:"Change day's date",subtitle:"Enter the new date for this day",date:n,close:this.handleBackButton,dayId:c,isEdit:!0}),s.a.createElement("div",{className:"box day-box"},s.a.createElement("header",{className:"card-header"},s.a.createElement("h2",{className:"card-header-title is-size-4"},"".concat(d.getFullYear(),".").concat(2===d.getMonth().toString().length?d.getMonth()+1:"0".concat(d.getMonth()+1),".").concat(2===d.getDate().toString().length?d.getDate():"0".concat(d.getDate()))),s.a.createElement("div",{className:"is-pulled-right has-text-right"},s.a.createElement("a",{href:"/dashboard/days".concat(t),className:"card-header-item"},"Show"),s.a.createElement("a",{href:u,onClick:this.handleEditButton,className:"card-header-item"},"Edit"),s.a.createElement("a",{href:u,onClick:this.handleRemoveButton,className:"card-header-item has-text-danger"},"Remove"))),s.a.createElement("div",{className:"card-content"},s.a.createElement("div",{className:"content"},a)),s.a.createElement("footer",{className:"card-footer ingredients"},s.a.createElement("p",{className:"card-footer-item is-size-7"},"Proteins:",r.proteins<l.Pmin&&s.a.createElement("strong",{className:"has-text-danger"}," ",r.proteins,"g (L)"),r.proteins>l.Pmax&&s.a.createElement("strong",{className:"has-text-danger"}," ",r.proteins,"g (H)"),r.proteins>l.Pmin&&r.proteins<l.Pmax&&s.a.createElement("strong",null," ",r.proteins,"g")),s.a.createElement("p",{className:"card-footer-item is-size-7"},"Fats:",r.fats<l.Fmin&&s.a.createElement("strong",{className:"has-text-danger"}," ",r.fats,"g (L)"),r.fats>l.Fmax&&s.a.createElement("strong",{className:"has-text-danger"}," ",r.fats,"g (H)"),r.fats>l.Fmin&&r.fats<l.Fmax&&s.a.createElement("strong",null," ",r.fats,"g")),s.a.createElement("p",{className:"card-footer-item is-size-7"},"Carbs:",r.carbs<l.Cmin&&s.a.createElement("strong",{className:"has-text-danger"}," ",r.carbs,"g (L)"),r.carbs>l.Cmax&&s.a.createElement("strong",{className:"has-text-danger"}," ",r.carbs,"g (H)"),r.carbs>l.Cmin&&r.carbs<l.Cmax&&s.a.createElement("strong",null," ",r.carbs,"g")),s.a.createElement("p",{className:"card-footer-item is-size-7"},"Calories:",r.calories<l.BMR-100+300*l.goal&&s.a.createElement("strong",{className:"has-text-danger"}," ",r.calories,"g (L)"),r.calories>l.BMR+100+300*l.goal&&s.a.createElement("strong",{className:"has-text-danger"}," ",r.calories,"g (H)"),r.calories>l.BMR-100+300*l.goal&&r.calories<l.BMR+100+300*l.goal&&s.a.createElement("strong",null," ",r.calories," kcal")))))}}]),t}(s.a.Component);W.defaultProps={substances:{proteins:0,fats:0,carbs:0,calories:0}};var J=Object(i.b)(null,(function(e){return{removeDay:function(a){return e(function(e){return{type:"REMOVE_DAY",payload:{id:e}}}(a))}}}))(W),X=function(e){Object(O.a)(t,e);var a=Object(S.a)(t);function t(){var e;Object(y.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=a.call.apply(a,[this].concat(s))).state={modalOpened:!1},e.handleAddNew=function(a){a.preventDefault(),e.setState({modalOpened:!0})},e.handleCloseModal=function(){e.setState({modalOpened:!1})},e}return Object(v.a)(t,[{key:"render",value:function(){var e=this.props,a=e.days,t=e.config,n=e.loggedAs,r=this.state.modalOpened,l=a.length?a.map((function(e){var a=e.meals.length?e.meals.map((function(a){return s.a.createElement(U,{key:"".concat(a.name,"-").concat(e.id),type:a.type,name:a.name,time:a.time,substances:a.substances})})):s.a.createElement("p",{className:"subtitle is-size-4 has-text-centered"},"No meals in this day yet");return s.a.createElement(s.a.Fragment,null,s.a.createElement(J,{key:"".concat(e.id),identity:e.id,date:e.date,path:e.path,substances:e.substances,config:t},a))})):s.a.createElement("p",{className:"subtitle is-size-4 has-text-centered"},"No days in menu yet");return s.a.createElement(s.a.Fragment,null,r&&s.a.createElement(K,{days:a,close:this.handleCloseModal}),s.a.createElement(T,{title:"Dashboard",subtitle:"".concat(n&&"Logged as ".concat(n,". ")," Organize your meals in each day")},s.a.createElement("div",{className:"add-new has-text-centered"},s.a.createElement("p",{className:"subtitle has-text-centered"},"Add one day to menu:"),s.a.createElement("button",{type:"button",className:"button",onClick:this.handleAddNew},"Add day")),l))}}]),t}(s.a.Component),Z=Object(i.b)((function(e){return{days:e.days,config:e.config,loggedAs:e.loggedAs}}))(X),$=Object(i.b)((function(e){return{savedMeals:e.savedMeals}}))((function(e){var a=e.savedMeals.map((function(e){return s.a.createElement(U,{key:"".concat(e.name,"-").concat(e.type),name:e.name,substances:e.substances,ingredients:e.ingredients,path:e.path,isRemovable:!0})}));return s.a.createElement(T,{title:"Saved Meals",subtitle:"You can organize here your saved meals"},0===a.length&&s.a.createElement("p",{className:"subtitle is-size-4 has-text-centered"},"No saved meals at the moment"),a)})),Q=function(e){Object(O.a)(t,e);var a=Object(S.a)(t);function t(){var e;Object(y.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=a.call.apply(a,[this].concat(s))).state={name:e.props.name||"",quantity:e.props.quantity||0,proteins:e.props.substances.proteins||0,fats:e.props.substances.fats||0,carbs:e.props.substances.carbs||0,calories:e.props.substances.calories||0,error:!1,nameExists:!1,searchOpened:!1,searchField:"",searchError:!1,searchServerFail:!1,searched:[]},e.prevName=e.props.name,e.componentDidMount=function(){document.getElementById("document-root").classList.add("no-overflow")},e.componentWillUnmount=function(){document.getElementById("document-root").classList.remove("no-overflow")},e.handleInputChange=function(a){var t,n,s=e.props.ingredientNames,r=a.target.getAttribute("id").split("-"),l=Object(B.a)(r,2)[1];"name"!==l||s.includes(a.target.value)?"name"===l&&s.includes(a.target.value)?e.setState((t={},Object(F.a)(t,l,a.target.value),Object(F.a)(t,"nameExists",!0),t)):("search"===l&&e.setState({searchField:a.target.value,searchError:!1}),e.setState(Object(F.a)({},l,+a.target.value))):e.setState((n={},Object(F.a)(n,l,a.target.value),Object(F.a)(n,"nameExists",!1),n))},e.handleSaveButton=function(){var a=e.state,t=a.name,n=a.quantity,s=a.proteins,r=a.fats,l=a.carbs,c=a.calories,o=a.nameExists,i=e.props,m=i.ingredientNames,d=i.addIngredient,u=i.dayId,p=i.mealType,h=i.close,b=i.isEdit,g=i.editIngredient,E=i.recountSubstances;!m.includes(t)||b?(t&&n&&s>=0&&r>=0&&l>=0&&c&&!o&&!b&&(e.setState({error:!1,nameExists:!1}),d(u,p,t,q(n),{proteins:q(s*n/100),fats:q(r*n/100),carbs:q(l*n/100),calories:q(c*n/100)}),E(),h()),n&&s>=0&&r>=0&&l>=0&&c&&!o&&b&&(e.setState({error:!1,nameExists:!1}),g(u,p,t,q(n),{proteins:q(s*n/100),fats:q(r*n/100),carbs:q(l*n/100),calories:q(c*n/100)},e.prevName),E(),h()),e.setState({error:!0})):e.setState({nameExists:!0})},e.handleFromBookmarks=function(a){var t=e.props.savedIngredients,n=a.target.value,s=t.filter((function(e){return e.name===n})),r=Object(B.a)(s,1)[0];r&&n?e.setState({name:n,proteins:r.substances.proteins,fats:r.substances.fats,carbs:r.substances.carbs,calories:r.substances.calories}):e.setState({name:"",proteins:0,fats:0,carbs:0,calories:0})},e.handleOpenSearch=function(){e.setState((function(e){return{searchOpened:!e.searchOpened,searchServerFail:!1}}))},e.handleSearchProduct=function(){var a=e.state.searchField;if(a.length<3)e.setState({searchError:!0});else{var t=window.location.origin,n=window.navigator.oscpu;j()({url:"".concat(t,"/api/search"),method:"post",data:{search:a,ua:n}}).then((function(a){e.setState((function(e){return{searchServerFail:!1,searchError:!1,searched:a.data.products.map((function(e,a){return{id:+a,name:e.generic_name||e.product_name||"No name",img:e.image_small_url,substances:{proteins:+e.nutriments.proteins_100g||0,fats:+e.nutriments.fat_100g||0,carbs:+e.nutriments.carbohydrates_100g||0,calories:+e.nutriments["energy-kcal_value"]||0}}}))}}))})).catch((function(a){console.log(a),e.setState({searchServerFail:!0})}))}},e.handleUseProduct=function(a){a.preventDefault();var t=+a.target.getAttribute("data-id"),n=e.state.searched.filter((function(e){return t===e.id})),s=Object(B.a)(n,1)[0];e.setState({name:s.name,proteins:+s.substances.proteins,fats:+s.substances.fats,carbs:+s.substances.carbs,calories:+s.substances.calories,searchOpened:!1})},e}return Object(v.a)(t,[{key:"render",value:function(){var e=this,a=this.props,t=a.close,n=a.savedIngredients,r=a.isEdit,l=this.state,c=l.name,o=l.quantity,i=l.proteins,m=l.fats,d=l.carbs,u=l.calories,p=l.error,h=l.nameExists,b=l.searchOpened,g=l.searchField,E=l.searchError,f=l.searchServerFail,y=l.searched,v=y.length&&y.map((function(a){return s.a.createElement("div",{key:"".concat(a.calories,"$-").concat(a.name),className:"product box"},s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-half"},s.a.createElement("p",{className:"is-size-5 has-text-weight-semibold"},a.name),s.a.createElement("p",{className:"nutrients"},s.a.createElement("span",null,"Proteins: ",a.substances.proteins,"g"),s.a.createElement("span",null,"Fats: ",a.substances.fats,"g"),s.a.createElement("span",null,"Carbs: ",a.substances.carbs,"g"),s.a.createElement("span",null,"Calories: ",a.substances.calories,"g"))),s.a.createElement("div",{className:"column is-half"},s.a.createElement("div",{className:"img"},s.a.createElement("img",{src:"".concat(a.img),alt:a.name})),s.a.createElement("a",{type:"button",className:"button is-info","data-id":a.id,onClick:e.handleUseProduct,href:"/"},"Use"))))}));return s.a.createElement("div",{className:"modal"},s.a.createElement("div",{className:"modal-background"}," "),s.a.createElement("div",{className:"modal-card"},s.a.createElement("header",{className:"modal-card-head"},s.a.createElement("p",{className:"modal-header-title is-size-4"},r?"Edit":"Add new"," ingredient"),s.a.createElement("button",{type:"button",className:"delete","aria-label":"close",onClick:t})),!b&&s.a.createElement("section",{className:"scrollable"},s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-half"},s.a.createElement("div",{className:"control"},s.a.createElement("label",{htmlFor:"ingredient-name",className:"is-size-5 has-text-weight-semibold"},"Name of ingredient:",s.a.createElement("input",{id:"ingredient-name",className:"input",type:"text",onChange:this.handleInputChange,value:c})),h&&s.a.createElement("p",{className:"has-text-danger"},"This ingredient's name already exists. Enter different.")),s.a.createElement("hr",null),s.a.createElement("div",{className:"control"},s.a.createElement("label",{htmlFor:"ingredient-proteins",className:"is-size-5 has-text-weight-semibold"},"Proteins (in 100g):",s.a.createElement("input",{id:"ingredient-proteins",className:"input",type:"number",min:"0",onChange:this.handleInputChange,value:i}))),s.a.createElement("div",{className:"control"},s.a.createElement("label",{htmlFor:"ingredient-fats",className:"is-size-5 has-text-weight-semibold"},"Fats (in 100g):",s.a.createElement("input",{id:"ingredient-fats",className:"input",type:"number",min:"0",onChange:this.handleInputChange,value:m}))),s.a.createElement("div",{className:"control"},s.a.createElement("label",{htmlFor:"ingredient-carbs",className:"is-size-5 has-text-weight-semibold"},"Carbs (in 100g):",s.a.createElement("input",{id:"ingredient-carbs",className:"input",type:"number",min:"0",onChange:this.handleInputChange,value:d}))),s.a.createElement("div",{className:"control"},s.a.createElement("label",{htmlFor:"ingredient-calories",className:"is-size-5 has-text-weight-semibold"},"Calories (kcal in 100g):",s.a.createElement("input",{id:"ingredient-calories",className:"input",type:"number",min:"0",onChange:this.handleInputChange,value:u}))),s.a.createElement("hr",null),s.a.createElement("div",{className:"control"},s.a.createElement("label",{htmlFor:"ingredient-quantity",className:"is-size-5 has-text-weight-semibold"},"Quantity (in g):",s.a.createElement("input",{id:"ingredient-quantity",className:"input",type:"number",min:"0",onChange:this.handleInputChange,value:o})))),s.a.createElement("div",{className:"column is-half"},s.a.createElement("div",{className:"control"},s.a.createElement("label",{htmlFor:"ingredient-bookmark",className:"is-size-5 has-text-weight-semibold"},"Select from bookmarks",s.a.createElement("div",{className:"select"},s.a.createElement("select",{onChange:this.handleFromBookmarks,id:"ingredient-bookmark"},s.a.createElement("option",{value:null},"Select meal's type"),!!n.length&&n.map((function(e){return s.a.createElement("option",{key:"".concat(e.name,"-").concat(e.calories),value:e.name},e.name)})))))),s.a.createElement("div",{className:"control"},s.a.createElement("p",{className:"is-size-5 has-text-weight-semibold"},"Search in OpenFoodFacts.org:"),s.a.createElement("br",null),s.a.createElement("button",{id:"search-ingredient",className:"button is-primary",type:"button",onClick:this.handleOpenSearch},"Open Search")))),s.a.createElement("p",{className:"subtitle has-text-link"},s.a.createElement("span",{className:"has-text-weight-semibold"},"These substances will be saved:"),s.a.createElement("br",null),"Proteins: ".concat(q(i*o/100),"g, "),s.a.createElement("br",null),"Fats: ".concat(q(m*o/100),"g, "),s.a.createElement("br",null),"Carbs: ".concat(q(d*o/100),"g, "),s.a.createElement("br",null),"Calories: ".concat(q(u*o/100)," kcal")),p&&s.a.createElement("p",{className:"has-text-danger"},"Fill all fields correctly"),s.a.createElement("button",{type:"submit",className:"button is-success",onClick:t},"Back"),s.a.createElement("button",{type:"submit",className:"button is-info",onClick:this.handleSaveButton},"Save")),b&&s.a.createElement("section",{className:"scrollable"},s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-half"},s.a.createElement("div",{className:"control"},s.a.createElement("label",{className:"is-size-5 has-text-weight-semibold",htmlFor:"product-search"},"Search for product",s.a.createElement("input",{id:"product-search",className:"input",type:"text",onChange:this.handleInputChange,value:g})),E&&s.a.createElement(s.a.Fragment,null,s.a.createElement("p",{className:"has-text-danger"},"You must provide at least 3 character in length product name"),s.a.createElement("br",null)),f&&s.a.createElement(s.a.Fragment,null,s.a.createElement("p",{className:"has-text-danger"},"Server failed loading products"),s.a.createElement("br",null)),s.a.createElement("button",{className:"button is-primary",type:"button",onClick:this.handleSearchProduct},"Search"),s.a.createElement("button",{className:"button is-info",type:"button",onClick:this.handleOpenSearch},"Back")))),s.a.createElement("div",{className:"product-search"},v||null))))}}]),t}(s.a.Component);Q.defaultProps={name:"",quantity:0,isEdit:!1,substances:{proteins:0,fats:0,carbs:0,calories:0}};var ee=Object(i.b)((function(e){return{savedIngredients:e.savedIngredients}}),(function(e){return{addIngredient:function(a,t,n,s,r){return e(function(e,a,t,n,s){return{type:"ADD_INGREDIENT",payload:{dayId:e,mealType:a,name:t,quantity:n,substances:s}}}(a,t,n,s,r))},editIngredient:function(a,t,n,s,r,l){return e(function(e,a,t,n,s,r){return{type:"EDIT_INGREDIENT",payload:{dayId:e,mealType:a,name:t,quantity:n,substances:s,prevName:r}}}(a,t,n,s,r,l))},recountSubstances:function(){return e({type:"RECOUNT_SUBSTANCES"})}}}))(Q),ae=function(e){var a=e.title,t=e.subtitle,n=e.click;return s.a.createElement("div",{className:"modal"},s.a.createElement("div",{className:"modal-background"}," "),s.a.createElement("div",{className:"modal-card"},s.a.createElement("header",{className:"modal-card-head"},s.a.createElement("h1",{className:"is-size-4"},a)),s.a.createElement("section",null,s.a.createElement("p",{className:"is-size-5"},t),s.a.createElement("br",null),s.a.createElement("button",{type:"button",className:"button is-info",onClick:n},"OK"))))},te=function(e){Object(O.a)(t,e);var a=Object(S.a)(t);function t(){var e;Object(y.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=a.call.apply(a,[this].concat(s))).state={removeModalShow:!1,editModalShow:!1,bookmarkModalShow:!1},e.handleRemoveButton=function(a){a.preventDefault(),e.setState({removeModalShow:!0})},e.handleEditButton=function(a){a.preventDefault(),e.setState({editModalShow:!0})},e.handleBackButton=function(){e.setState({editModalShow:!1})},e.handleRemoveModal=function(a){var t=e.props,n=t.dayId,s=t.mealType,r=t.name,l=t.removeIngredient,c=t.recountSubstances,o=t.removeBookmarkedIngredient,i=t.isntEditable;if(a&&i)return o(r),void e.setState({removeModalShow:!1});a&&(l(n,s,r),c()),e.setState({removeModalShow:!1})},e.handleBookmarkIngredient=function(a){var t=e.props,n=t.name,s=t.substances,r=t.bookmarkIngredient,l=t.quantity;a.preventDefault(),r(n,{proteins:q(100*s.proteins/l),fats:q(100*s.fats/l),carbs:q(100*s.carbs/l),calories:q(100*s.calories/l)}),e.setState({bookmarkModalShow:!0})},e}return Object(v.a)(t,[{key:"render",value:function(){var e=this,a=this.props,t=a.name,n=a.substances,r=a.quantity,l=a.ingredientNames,c=a.dayId,o=a.mealType,i=a.savedIngredients,m=a.isntEditable,d=this.state,u=d.removeModalShow,p=d.editModalShow,h=d.bookmarkModalShow;return s.a.createElement(s.a.Fragment,null,u&&s.a.createElement(P,{title:"Are you sure?",subtitle:"Do you really want to remove this ingredient: ".concat(t,"?"),click:this.handleRemoveModal}),p&&s.a.createElement(ee,{name:t,quantity:r,substances:n,close:this.handleBackButton,ingredientNames:l,dayId:c,mealType:o,isEdit:!0}),h&&s.a.createElement(ae,{title:"Ingredient bookmarked",subtitle:"You ingredient has been added to ingredients page",click:function(){return e.setState({bookmarkModalShow:!1})}}),s.a.createElement("div",{className:"box meal-snippet has-text-white has-text-grey-darker"},s.a.createElement("h3",{className:"title is-size-5"},t),!m&&s.a.createElement("h4",{className:"subtitle has-text-grey is-size-6"},"".concat(r,"g")),s.a.createElement("div",null,!m&&s.a.createElement("a",{href:"/",onClick:this.handleEditButton},"Edit"),!i.map((function(e){return e.name})).includes(t)&&s.a.createElement("a",{href:"/",onClick:this.handleBookmarkIngredient},"Bookmark"),s.a.createElement("a",{href:"/",onClick:this.handleRemoveButton,className:"has-text-danger"},"Remove")),s.a.createElement("footer",{className:"is-size-7"},s.a.createElement("p",null,s.a.createElement("span",null,"Proteins:",s.a.createElement("b",null," ",q(n.proteins),"g")),s.a.createElement("span",null,"Fats:",s.a.createElement("b",null," ",q(n.fats),"g")),s.a.createElement("span",null,"Carbs:",s.a.createElement("b",null," ",q(n.carbs),"g")),s.a.createElement("span",null,"kcal:",s.a.createElement("b",null," ",q(n.calories)))))))}}]),t}(s.a.Component);te.defaultProps={quantity:0,substances:{proteins:0,fats:0,carbs:0,calories:0},isntEditable:!1};var ne=Object(i.b)((function(e){return{savedIngredients:e.savedIngredients}}),(function(e){return{removeIngredient:function(a,t,n){return e(function(e,a,t){return{type:"REMOVE_INGREDIENT",payload:{dayId:e,mealType:a,name:t}}}(a,t,n))},recountSubstances:function(){return e({type:"RECOUNT_SUBSTANCES"})},removeBookmarkedIngredient:function(a){return e(function(e){return{type:"REMOVE_BOOKMARKED_INGREDIENT",payload:{name:e}}}(a))},bookmarkIngredient:function(a,t){return e(function(e,a){return{type:"BOOKMARK_INGREDIENT",payload:{name:e,substances:a}}}(a,t))}}}))(te),se=Object(i.b)((function(e){return{savedIngredients:e.savedIngredients}}))((function(e){var a=e.savedIngredients.map((function(e){return s.a.createElement(ne,{key:e.name,name:e.name,substances:e.substances,isntEditable:!0})}));return s.a.createElement(T,{title:"Saved Ingredients",subtitle:"You can organize here your saved ingredients"},0===a.length&&s.a.createElement("p",{className:"subtitle is-size-4 has-text-centered"},"No saved ingredients at the moment"),a)})),re=function(e){Object(O.a)(t,e);var a=Object(S.a)(t);function t(){var e;Object(y.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=a.call.apply(a,[this].concat(s))).state={bmrForm:{bodyMass:0,bodyHeight:0,age:0,activity:0,sex:0,error:!1,result:null},proportionsForm:{proteins:0,fats:0,carbs:0,error:!1},goal:{value:-2,error:!1}},e.handleMassChange=function(a){a.persist(),e.setState((function(e){return Object(C.a)({},e,{bmrForm:Object(C.a)({},e.bmrForm,{bodyMass:+a.target.value})})}))},e.handleHeightChange=function(a){a.persist(),e.setState((function(e){return Object(C.a)({},e,{bmrForm:Object(C.a)({},e.bmrForm,{bodyHeight:+a.target.value})})}))},e.handleAgeChange=function(a){a.persist(),e.setState((function(e){return Object(C.a)({},e,{bmrForm:Object(C.a)({},e.bmrForm,{age:+a.target.value})})}))},e.handleActivityChange=function(a){a.persist(),e.setState((function(e){return Object(C.a)({},e,{bmrForm:Object(C.a)({},e.bmrForm,{activity:+a.target.value})})}))},e.handleSexChange=function(a){a.persist();var t=+a.target.value,n=null;1===t&&(n=1),2===t&&(n=2),e.setState((function(e){return Object(C.a)({},e,{bmrForm:Object(C.a)({},e.bmrForm,{sex:n})})}))},e.handleCalculateButton=function(){var a=e.state.bmrForm;if(Object.values(a).indexOf(0)>-1)e.setState((function(e){return Object(C.a)({},e,{bmrForm:Object(C.a)({},e.bmrForm,{error:!0,result:null})})}));else{var t,n=a.bodyMass,s=a.bodyHeight,r=a.age,l=a.activity,c=a.sex;1===c&&(t=(9.99*n+6.25*s-4.92*r-161)*l),2===c&&(t=(9.99*n+6.25*s-4.92*r+5)*l),e.setState((function(e){return Object(C.a)({},e,{bmrForm:Object(C.a)({},e.bmrForm,{error:!1,result:q(t)})})}))}},e.handleProteinChange=function(a){a.persist(),e.setState((function(e){return Object(C.a)({},e,{proportionsForm:Object(C.a)({},e.proportionsForm,{proteins:+a.target.value,error:!1})})}))},e.handleFatsChange=function(a){a.persist(),e.setState((function(e){return Object(C.a)({},e,{proportionsForm:Object(C.a)({},e.proportionsForm,{fats:+a.target.value})})}))},e.handleCarbsChange=function(a){a.persist(),e.setState((function(e){return Object(C.a)({},e,{proportionsForm:Object(C.a)({},e.proportionsForm,{carbs:+a.target.value,error:!1})})}))},e.handleSaveBMR=function(){var a=e.props,t=a.yourProteins,n=a.yourFats,s=a.yourCarbs,r=a.yourGoal,l=a.saveBMR,c=a.saveProportions,o=e.state.bmrForm,i=q(t/(t+n+s)*(o.result-100+300*r)/4),m=q(t/(t+n+s)*(o.result+100+300*r)/4),d=q(n/(t+n+s)*(o.result-100+300*r)/9),u=q(n/(t+n+s)*(o.result+100+300*r)/9),p=q(s/(t+n+s)*(o.result-100+300*r)/4),h=q(s/(t+n+s)*(o.result+100+300*r)/4);l(o.result),c({ratioP:t,ratioF:n,ratioC:s,Pmin:i,Pmax:m,Fmin:d,Fmax:u,Cmin:p,Cmax:h})},e.handleSaveProportions=function(){var a=e.state.proportionsForm,t=a.proteins,n=a.fats,s=a.carbs,r=e.props,l=r.saveProportions,c=r.yourBMR,o=r.yourGoal;if(t>0&&n>=0&&s>0)return l({ratioP:t,ratioF:n,ratioC:s,Pmin:q(t/(t+n+s)*(c-100+300*o)/4),Pmax:q(t/(t+n+s)*(c+100+300*o)/4),Fmin:q(n/(t+n+s)*(c-100+300*o)/9),Fmax:q(n/(t+n+s)*(c+100+300*o)/9),Cmin:q(s/(t+n+s)*(c-100+300*o)/4),Cmax:q(s/(t+n+s)*(c+100+300*o)/4)}),void e.setState((function(e){return Object(C.a)({},e,{proportionsForm:{proteins:0,fats:0,carbs:0,error:!1}})}));e.setState((function(e){return Object(C.a)({},e,{proportionsForm:Object(C.a)({},e.proportionsForm,{error:!0})})}))},e.handleGoalChange=function(a){a.persist(),e.setState((function(e){return Object(C.a)({},e,{goal:{value:+a.target.value,error:!1}})}))},e.handleSaveGoal=function(){var a=e.state.goal;-2!==+a.value?((0,e.props.saveGoal)(a.value),e.setState((function(e){return Object(C.a)({},e,{goal:{value:-2,error:!1}})}))):e.setState((function(e){return Object(C.a)({},e,{goal:Object(C.a)({},e.goal,{error:!0})})}))},e}return Object(v.a)(t,[{key:"render",value:function(){var e=this.state,a=e.bmrForm,t=e.proportionsForm,n=e.goal,r=a.bodyMass,l=a.bodyHeight,c=a.age,o=a.activity,i=a.sex,m=a.error,d=a.result,u=t.proteins,p=t.fats,h=t.carbs,b=t.error,g=n.value,E=n.error,f=this.props,y=f.yourBMR,v=f.yourProteins,N=f.yourFats,S=f.yourCarbs,O=f.yourGoal,k=q(v/(v+N+S)*(y-100+300*O)/4),w=q(v/(v+N+S)*(y+100+300*O)/4),C=q(N/(v+N+S)*(y-100+300*O)/9),M=q(N/(v+N+S)*(y+100+300*O)/9),j=q(S/(v+N+S)*(y-100+300*O)/4),x=q(S/(v+N+S)*(y+100+300*O)/4);return s.a.createElement(s.a.Fragment,null,s.a.createElement(T,{title:"Configuration",subtitle:"You can configure your BMR width activity factor and Protein:Fat:Carbohydrates proportions based on your BMR and activity."},s.a.createElement("div",{className:"box"},s.a.createElement("h2",{className:"subtitle is-size-4 has-text-weight-semibold"},"Your current BMR: ".concat(y," kcal")),s.a.createElement("h2",{className:"subtitle is-size-4 has-text-weight-semibold"}," Your current proportions: ".concat(v," : ").concat(N," : ").concat(S)),s.a.createElement("h2",{className:"subtitle is-size-4 has-text-weight-semibold"},"Your goal is to",-1===O&&" loose weight",0===O&&" keep weight",1===O&&" gain weight",", so you should eat:",s.a.createElement("br",null),s.a.createElement("br",null)," ".concat(y-100+300*O,"-").concat(y+100+300*O)," kcal",s.a.createElement("br",null),s.a.createElement("br",null),k===w?" ~".concat(w,"g "):" ~".concat(k,"-").concat(w+1,"g ")," ","Proteins",s.a.createElement("br",null),C===M?" ~".concat(M,"g "):" ~".concat(C,"-").concat(M+1,"g ")," Fats",s.a.createElement("br",null),j===x?" ~".concat(x,"g "):" ~".concat(j,"-").concat(x+1,"g ")," ","Carbohydrates")),s.a.createElement("hr",null),s.a.createElement("div",{className:"box"},s.a.createElement("h2",{className:"subtitle is-size-3 has-text-weight-semibold"},"Calculate your BMR"),s.a.createElement("p",{className:"subtitle"},"Enter the following data to calculate your basal metabolic rate:"),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-one-quarter"},s.a.createElement("div",{className:"control"},s.a.createElement("label",{htmlFor:"body-mass",className:"is-size-5 has-text-weight-semibold"},"Body mass (in kg)",s.a.createElement("input",{id:"body-mass",className:"input",type:"number",min:"0",onChange:this.handleMassChange,value:r}))),s.a.createElement("div",{className:"control"},s.a.createElement("label",{htmlFor:"body-height",className:"is-size-5 has-text-weight-semibold"},"Body height (in cm)",s.a.createElement("input",{id:"body-height",className:"input",type:"number",min:"0",onChange:this.handleHeightChange,value:l}))),s.a.createElement("div",{className:"control"},s.a.createElement("label",{htmlFor:"body-age",className:"is-size-5 has-text-weight-semibold"},"Age",s.a.createElement("input",{id:"body-age",className:"input",type:"number",min:"0",onChange:this.handleAgeChange,value:c})))),s.a.createElement("div",{className:"column is-one-quarter"},s.a.createElement("div",{className:"control"},s.a.createElement("label",{htmlFor:"physical-activity",className:"is-size-5 has-text-weight-semibold"},"Physical activity",s.a.createElement("div",{className:"select"},s.a.createElement("select",{onChange:this.handleActivityChange,value:o,id:"physical-activity"},s.a.createElement("option",{value:"0"},"Select activity level"),s.a.createElement("option",{value:"1.2"},"Almost none"),s.a.createElement("option",{value:"1.35"},"Little"),s.a.createElement("option",{value:"1.55"},"Medium"),s.a.createElement("option",{value:"1.75"},"Big"),s.a.createElement("option",{value:"2.05"},"Very heavy"))))),s.a.createElement("br",null),s.a.createElement("div",{className:"control"},s.a.createElement("label",{htmlFor:"woman-button",className:"radio is-size-5"},s.a.createElement("input",{id:"woman-button",type:"radio",name:"woman",value:"1",checked:1===i,onChange:this.handleSexChange}),"Woman"),s.a.createElement("label",{htmlFor:"men-button",className:"radio is-size-5"},s.a.createElement("input",{id:"men-button",type:"radio",name:"men",value:"2",checked:2===i,onChange:this.handleSexChange}),"Men")))),m&&s.a.createElement("p",{className:"has-text-danger is-size-6"},"Please, fill up this form correctly"),d&&s.a.createElement("p",{className:"has-text-info is-size-4"},"Your BMR is ",d),s.a.createElement("br",null),s.a.createElement("button",{type:"button",className:"button is-primary",onClick:this.handleCalculateButton},"Calculate"),d&&s.a.createElement("button",{type:"button",className:"button is-info",onClick:this.handleSaveBMR},"Save")),s.a.createElement("hr",null),s.a.createElement("div",{className:"box"},s.a.createElement("h2",{className:"subtitle is-size-3 has-text-weight-semibold"},"Provide ingredients proportions"),s.a.createElement("p",{className:"subtitle"},"Enter the proportions of PROTEINS:FATS:CARBOHYDRATES:"),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-one-quarter"},s.a.createElement("div",{className:"control"},s.a.createElement("label",{htmlFor:"proteins",className:"is-size-5 has-text-weight-semibold"},"Proteins",s.a.createElement("input",{id:"proteins",className:"input",type:"number",min:"0",value:u,onChange:this.handleProteinChange}))),s.a.createElement("div",{className:"control"},s.a.createElement("label",{htmlFor:"fats",className:"is-size-5 has-text-weight-semibold"},"Fats",s.a.createElement("input",{id:"fats",className:"input",type:"number",min:"0",value:p,onChange:this.handleFatsChange}))),s.a.createElement("div",{className:"control"},s.a.createElement("label",{htmlFor:"carbs",className:"is-size-5 has-text-weight-semibold"},"Carbohydrates",s.a.createElement("input",{id:"carbs",className:"input",type:"number",min:"0",value:h,onChange:this.handleCarbsChange}))))),b&&s.a.createElement("p",{className:"has-text-danger is-size-6"},"Proteins and carbohydrates must be more than 0"),u>0&&p>=0&&h>0&&s.a.createElement("p",{className:"has-text-info is-size-4"},"Your proportions are:"," ".concat(u,":").concat(p,":").concat(h)),s.a.createElement("br",null),s.a.createElement("button",{type:"button",className:"button is-info",onClick:this.handleSaveProportions},"Save")),s.a.createElement("hr",null),s.a.createElement("div",{className:"box"},s.a.createElement("h2",{className:"subtitle is-size-3 has-text-weight-semibold"},"What is your goal?"),s.a.createElement("p",{className:"subtitle"},"Loose weight, Keep weight or gain weight"),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-one-quarter"},s.a.createElement("div",{className:"control"},s.a.createElement("label",{htmlFor:"goal",className:"is-size-5 has-text-weight-semibold"},"Your goal",s.a.createElement("div",{className:"select"},s.a.createElement("select",{id:"goal",onChange:this.handleGoalChange},s.a.createElement("option",{value:"-2"},"Select your goal"),s.a.createElement("option",{value:"-1"},"Loose weight"),s.a.createElement("option",{value:"0"},"Keep weight"),s.a.createElement("option",{value:"1"},"Gain weight"))))))),E&&s.a.createElement("p",{className:"has-text-danger is-size-6"},"Select option from dropdown menu before saving"),g>-2&&s.a.createElement("p",{className:"has-text-info is-size-4"},"You selected to:",-1===g&&" loose weight",0===g&&" keep weight",1===g&&" gain weight"),s.a.createElement("br",null),s.a.createElement("button",{type:"button",className:"button is-info",onClick:this.handleSaveGoal},"Save"))))}}]),t}(s.a.Component),le=Object(i.b)((function(e){var a=e.config;return{yourBMR:a.BMR,yourProteins:a.ratioP,yourFats:a.ratioF,yourCarbs:a.ratioC,yourGoal:a.goal}}),(function(e){return{saveBMR:function(a){return e(function(e){return{type:"SAVE_BMR",payload:{BMRresult:e}}}(a))},saveProportions:function(a){return e(function(e){return{type:"SAVE_PROPORTIONS",payload:{properties:e}}}(a))},saveGoal:function(a){return e(function(e){return{type:"SAVE_GOAL",payload:{goal:e}}}(a))}}}))(re),ce=t(6),oe=t.n(ce),ie=t(98),me=t.n(ie),de=function(e){Object(O.a)(t,e);var a=Object(S.a)(t);function t(){var e;Object(y.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=a.call.apply(a,[this].concat(s))).state={name:null,error:!1,time:"",timeExists:!1,type:"",substances:!1,ingredients:!1},e.times=function(){var a=e.props,t=a.dayId,n=a.days.filter((function(e){return e.id===t}));return Object(B.a)(n,1)[0].meals.map((function(e){return"".concat(2===new Date(e.time).getHours().toString().length?new Date(e.time).getHours():"0".concat(new Date(e.time).getHours()),":").concat(2===new Date(e.time).getMinutes().toString().length?new Date(e.time).getMinutes():"0".concat(new Date(e.time).getMinutes()))}))}(),e.types=function(){var a=e.props,t=a.days,n=a.dayId,s=t.filter((function(e){return e.id===n}));return Object(B.a)(s,1)[0].meals.map((function(e){return e.type}))}(),e.componentDidMount=function(){document.getElementById("document-root").classList.add("no-overflow")},e.componentWillUnmount=function(){document.getElementById("document-root").classList.remove("no-overflow")},e.handleNameChange=function(a){e.setState({name:a.target.value,error:!1})},e.handleTimeChange=function(a){var t=e.props.isEdit;a&&(!e.times.includes(a)||t?e.setState({time:a,error:!1,timeExists:!1}):e.setState({timeExists:!0}))},e.handleTypeChange=function(a){e.setState({type:a.target.value})},e.handleSaveMeal=function(){var a=e.state,t=a.time,n=a.name,s=a.type,r=a.substances,l=a.ingredients,c=e.props,o=c.close,i=c.saveNewMeal,m=c.time,d=c.name,u=c.type,p=c.days,h=c.dayId,b=c.isEdit,g=c.editMeal,E=t.split(":");if(2===E.length||b){var f=new Date(p.filter((function(e){return e.id===h}))[0].date);if(f.setHours(E[0]),f.setMinutes(E[1]),(!b||t||n||s||f===m)&&(b||t&&n&&s))return b?(e.setState({timeExists:!1,error:!1,substances:!1,ingredients:!1}),g(h,{type:s||u,name:n||d,time:t?f:m},u),void o()):void(e.times.includes(t)||(e.setState({timeExists:!1,error:!1,substances:!1,ingredients:!1}),i(h,{type:s,name:n,time:f,substances:r||{},ingredients:l||[]}),o()));e.setState({error:!0})}else e.setState({error:!0})},e.handleFromBookmarks=function(a){var t=e.props.savedMeals.filter((function(e){return e.name===a.target.value})),n=Object(B.a)(t,1)[0];a.target.value&&n?a.target.value&&e.setState({name:n.name,substances:n.substances,ingredients:n.ingredients}):e.setState({name:"",substances:!1,ingredients:!1})},e}return Object(v.a)(t,[{key:"render",value:function(){var e=this.state,a=e.name,t=e.time,n=e.error,r=e.timeExists,l=e.substances,c=e.ingredients,o=this.props,i=o.isEdit,m=o.close,d=o.savedMeals;return s.a.createElement("div",{className:"modal"},s.a.createElement("div",{className:"modal-background"}," "),s.a.createElement("div",{className:"modal-card"},s.a.createElement("header",{className:"modal-card-head"},s.a.createElement("p",{className:"modal-header-title is-size-4"},i?"Edit meal":"Add new meal"),s.a.createElement("button",{type:"button",className:"delete","aria-label":"close",onClick:m})),s.a.createElement("section",null,s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-half"},s.a.createElement("div",{className:"control"},s.a.createElement("label",{htmlFor:"meal-name",className:"is-size-5 has-text-weight-semibold"},"Name of meal:",s.a.createElement("input",{id:"meal-name",className:"input",type:"text",onChange:this.handleNameChange,value:a}))),s.a.createElement("div",{className:"control"},s.a.createElement("p",{className:"is-size-5 has-text-weight-semibold"},"Time of meal:",s.a.createElement(me.a,{className:"input",id:"meal-time",onChange:this.handleTimeChange,value:t,maxDetail:"minute",clearIcon:null}))),s.a.createElement("div",{className:"control"},s.a.createElement("label",{htmlFor:"meal-type",className:"is-size-5 has-text-weight-semibold"},"Select type of meal",s.a.createElement("div",{className:"select"},s.a.createElement("select",{onChange:this.handleTypeChange,id:"meal-type"},s.a.createElement("option",{value:null},"Select meal's type"),!this.types.includes("Breakfast")&&s.a.createElement("option",{value:"Breakfast"},"Breakfast"),!this.types.includes("Second breakfast")&&s.a.createElement("option",{value:"Second breakfast"},"Second Breakfast"),!this.types.includes("Lunch")&&s.a.createElement("option",{value:"Lunch"},"Lunch"),!this.types.includes("Dinner")&&s.a.createElement("option",{value:"Dinner"},"Dinner"),!this.types.includes("Snack 1")&&s.a.createElement("option",{value:"Snack 1"},"Snack 1"),!this.types.includes("Snack 2")&&s.a.createElement("option",{value:"Snack 2"},"Snack 2"),!this.types.includes("Snack 3")&&s.a.createElement("option",{value:"Snack 3"},"Snack 3"),!this.types.includes("Supper")&&s.a.createElement("option",{value:"Supper"},"Supper")))))),s.a.createElement("div",{className:"column is-half"},s.a.createElement("div",{className:"control"},s.a.createElement("label",{htmlFor:"meal-bookmarks",className:"is-size-5 has-text-weight-semibold"},"Select from bookmarks",s.a.createElement("div",{className:"select"},s.a.createElement("select",{onChange:this.handleFromBookmarks,id:"meal-bookmarks"},s.a.createElement("option",null,"None"),d.map((function(e){return s.a.createElement("option",{value:e.name},e.name)})))))),l&&c&&s.a.createElement("p",{className:"has-text-link is-size-5"},s.a.createElement("span",{className:"has-text-weight-semibold"},"Following ingredients will be applied:"," "),s.a.createElement("br",null),c.map((function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("span",null,e.name," - ",e.quantity,"g"),s.a.createElement("br",null))}))))),n&&s.a.createElement("p",{className:"has-text-danger"},"Fill all fields correctly"),r&&s.a.createElement("p",{className:"has-text-danger"},"This time has already meal"),s.a.createElement("br",null),s.a.createElement("button",{type:"submit",className:"button is-success",onClick:m},"Back"),s.a.createElement("button",{type:"submit",className:"button is-info",onClick:this.handleSaveMeal},"Save"))))}}]),t}(s.a.Component),ue=Object(i.b)((function(e){return{days:e.days,savedMeals:e.savedMeals}}),(function(e){return{saveNewMeal:function(a,t){return e(function(e,a){return{type:"SAVE_NEW_MEAL",payload:{dayId:e,properties:a}}}(a,t))},editMeal:function(a,t,n){return e(function(e,a,t){return{type:"EDIT_MEAL",payload:{dayId:e,properties:a,prevType:t}}}(a,t,n))}}}))(de),pe=function(e){Object(O.a)(t,e);var a=Object(S.a)(t);function t(){var e;Object(y.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=a.call.apply(a,[this].concat(s))).state={removeModalShow:!1,editModalShow:!1,ingredientModalShow:!1,bookmarkModal:!1},e.names=e.props.ingredients.map((function(e){return e.name})),e.handleRemoveButton=function(a){a.preventDefault(),e.setState({removeModalShow:!0})},e.handleEditButton=function(a){a.preventDefault(),e.setState({editModalShow:!0})},e.handleBackButton=function(){e.setState({editModalShow:!1})},e.handleIngredientBackButton=function(){e.setState({ingredientModalShow:!1})},e.handleRemoveModal=function(a){var t=e.props,n=t.dayId,s=t.type,r=t.removeMeal,l=t.recountSubstances;a&&(r(n,s),l()),e.setState({removeModalShow:!1,editModalShow:!1})},e.handleAddIngredient=function(a){a.preventDefault(),e.setState({ingredientModalShow:!0})},e.handleBookmarkMeal=function(a){a.preventDefault();var t=e.props,n=t.name,s=t.substances,r=t.ingredients,l=t.bookmarkMeal;e.setState({bookmarkModal:!0}),l(n,s,r)},e}return Object(v.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props.ingredients;this.names=e.map((function(e){return e.name}))}},{key:"render",value:function(){var e=this,a=this.props,t=a.children,n=a.name,r=a.type,l=a.substances,c=a.time,o=a.dayId,i=a.savedMeals,m=a.ingredients,d=this.state,p=d.removeModalShow,h=d.editModalShow,b=d.ingredientModalShow,g=d.bookmarkModal,E=new Date(c),f="".concat(E.getHours(),":").concat(2===E.getMinutes().toString().length?E.getMinutes():"0".concat(E.getMinutes()));return s.a.createElement(s.a.Fragment,null,p&&s.a.createElement(P,{title:"Are you sure?",subtitle:"Do you really want to remove the following meal: ".concat(n),click:this.handleRemoveModal}),h&&s.a.createElement(ue,{type:r,name:n,time:c,dayId:o,close:this.handleBackButton,isEdit:!0}),b&&s.a.createElement(ee,{dayId:o,ingredientNames:this.names,mealType:r,close:this.handleIngredientBackButton}),g&&s.a.createElement(ae,{title:"Meal bookmarked",subtitle:"This meal now appears in your meals page",click:function(){return e.setState({bookmarkModal:!1})}}),s.a.createElement("div",{className:"box day-box"},s.a.createElement("header",{className:"card-header"},s.a.createElement("h2",{className:"card-header-title is-size-4"},"".concat(r," at ").concat(f,": ").concat(n)),s.a.createElement("div",{className:"is-pulled-right has-text-right"},s.a.createElement("a",{href:u,onClick:this.handleAddIngredient,className:"card-header-item"},"Add"),s.a.createElement("a",{href:u,onClick:this.handleEditButton,className:"card-header-item"},"Edit"),!i.map((function(e){return e.name})).includes(n)&&!!m.length&&s.a.createElement("a",{href:u,className:"card-header-item",onClick:this.handleBookmarkMeal},"Bookmark"),s.a.createElement("a",{href:u,onClick:this.handleRemoveButton,className:"card-header-item has-text-danger"},"Remove"))),s.a.createElement("div",{className:"card-content"},s.a.createElement("div",{className:"content"},t)),s.a.createElement("footer",{className:"card-footer ingredients"},s.a.createElement("p",{className:"card-footer-item is-size-7"},"Proteins:",s.a.createElement("strong",null," ",l.proteins?l.proteins:"0","g")),s.a.createElement("p",{className:"card-footer-item is-size-7"},"Fats:",s.a.createElement("strong",null," ",l.fats?l.fats:"0","g")),s.a.createElement("p",{className:"card-footer-item is-size-7"},"Carbs:",s.a.createElement("strong",null," ",l.carbs?l.carbs:"0","g")),s.a.createElement("p",{className:"card-footer-item is-size-7"},"Calories:",s.a.createElement("strong",null," ",l.calories?l.calories:"0"," kcal")))))}}]),t}(s.a.Component);pe.defaultProps={substances:oe.a.shape({proteins:0,fats:0,carbs:0,calories:0})};var he=Object(i.b)((function(e){return{savedMeals:e.savedMeals}}),(function(e){return{removeMeal:function(a,t){return e(function(e,a){return{type:"REMOVE_MEAL",payload:{dayId:e,mealType:a}}}(a,t))},recountSubstances:function(){return e({type:"RECOUNT_SUBSTANCES"})},bookmarkMeal:function(a,t,n){return e(function(e,a,t){return{type:"BOOKMARK_MEAL",payload:{name:e,substances:a,ingredients:t}}}(a,t,n))}}}))(pe),be=function(e){Object(O.a)(t,e);var a=Object(S.a)(t);function t(){var e;Object(y.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=a.call.apply(a,[this].concat(s))).state={modalOpened:!1},e.handleAddNew=function(a){a.preventDefault(),e.setState({modalOpened:!0})},e.handleCloseModal=function(){e.setState({modalOpened:!1})},e}return Object(v.a)(t,[{key:"render",value:function(){var e=this.props,a=e.days,t=e.match,n=this.state.modalOpened,r=t.params.day,l="/".concat(r),c=a.filter((function(e){return e.path===l}))[0],o=c.meals.length?c.meals.map((function(e){var t=e.ingredients.length?e.ingredients.map((function(a){return s.a.createElement(ne,{key:"".concat(a.name,"-").concat(e.time),name:a.name,substances:a.substances,ingredientNames:e.ingredients.map((function(e){return e.name})),quantity:a.quantity,path:a.path,mealType:e.type,dayId:c.id})})):s.a.createElement("p",{className:"subtitle is-size-4 has-text-centered"},"No ingredients in this meal yet");return s.a.createElement(he,{key:"mn".concat(e.time),substances:e.substances,ingredients:e.ingredients,name:e.name,time:e.time,path:e.path,type:e.type,dayId:c.id,days:a},t)})):s.a.createElement("p",{className:"subtitle is-size-4 has-text-centered"},"No meals in this day yet");return s.a.createElement(s.a.Fragment,null,n&&s.a.createElement(ue,{days:a,dayId:c.id,close:this.handleCloseModal}),s.a.createElement(T,{title:"Day ".concat(r),subtitle:"Organize your meals in this day"},s.a.createElement("div",{className:"add-new has-text-centered"},s.a.createElement("p",{className:"subtitle has-text-centered"},"Add new meal to this day:"),s.a.createElement("button",{type:"button",className:"button",onClick:this.handleAddNew},"Add meal")),o))}}]),t}(s.a.Component),ge=Object(i.b)((function(e){return{days:e.days}}))(be),Ee=t(25),fe=t(76),ye=t(99),ve=t(100),Ne=t.n(ve),Se=t(21),Oe={days:[{id:0,date:new Date(2020,3,26),path:"/2020-03-26",substances:{proteins:111,fats:52.1,carbs:227,calories:1798.9},meals:[{type:"Breakfast",name:"Oatmeal with cheese",time:new Date(2020,3,26,7,30).toString(),substances:{proteins:27.8,fats:13.6,carbs:74.1,calories:543},ingredients:[{name:"Milk",quantity:200,substances:{proteins:6.4,fats:6.4,carbs:9.4,calories:120}},{name:"Oatmeal",quantity:100,substances:{proteins:11.9,fats:7.2,carbs:63,calories:378}},{name:"Cottage cheese",quantity:50,substances:{proteins:9.5,fats:0,carbs:1.7,calories:45}}]},{type:"Lunch",name:"Chicken with rice and salad",time:new Date(2020,3,26,12,30).toString(),substances:{proteins:48.66,fats:52.1,carbs:74.4,calories:463.5},ingredients:[{name:"Chicken",quantity:150,substances:{proteins:34.5,fats:2.5,carbs:9.4,calories:160.5}},{name:"Rice",quantity:75,substances:{proteins:11.9,fats:.5,carbs:58.5,calories:262.5}},{name:"Carrot",quantity:50,substances:{proteins:.46,fats:.22,carbs:3.05,calories:18}},{name:"Green beans",quantity:75,substances:{proteins:1.8,fats:.15,carbs:3.45,calories:22.5}}]},{type:"Snack 1",name:"Apple and hazelnuts",time:new Date(2020,3,26,17,0).toString(),substances:{proteins:5.93,fats:25,carbs:21.5,calories:340.4},ingredients:[{name:"Apple",quantity:150,substances:{proteins:.33,fats:.2,carbs:17.1,calories:75}},{name:"Hazelnuts",quantity:40,substances:{proteins:5.6,fats:24.8,carbs:4.4,calories:265.4}}]},{type:"Supper",name:"Sandwiches with ham and salad",time:new Date(2020,3,26,20,0).toString(),substances:{proteins:28.6,fats:10.14,carbs:57,calories:452.4},ingredients:[{name:"Bread",quantity:120,substances:{proteins:10.2,fats:6.24,carbs:55.2,calories:335}},{name:"Ham",quantity:80,substances:{proteins:16.8,fats:2.4,carbs:.4,calories:90.4}},{name:"Salad",quantity:20,substances:{proteins:1.6,fats:1.5,carbs:1.4,calories:27.2}}]}]}],savedMeals:[{type:"Breakfast",name:"Oatmeal with cheese",substances:{proteins:27.8,fats:13.6,carbs:74.1,calories:543},ingredients:[{name:"Milk",quantity:200,substances:{proteins:6.4,fats:6.4,carbs:9.4,calories:120}},{name:"Oatmeal",quantity:100,substances:{proteins:11.9,fats:7.2,carbs:63,calories:378}},{name:"Cottage cheese",quantity:50,substances:{proteins:9.5,fats:0,carbs:1.7,calories:45}}]},{type:"Lunch",name:"Chicken with rice and salad",time:new Date(2020,3,26,12,30).toString(),substances:{proteins:48.66,fats:3.37,carbs:74.4,calories:463.5},ingredients:[{name:"Chicken",quantity:150,substances:{proteins:34.5,fats:2.5,carbs:9.4,calories:160.5}},{name:"Rice",quantity:75,substances:{proteins:11.9,fats:.5,carbs:58.5,calories:262.5}},{name:"Carrot",quantity:50,substances:{proteins:.46,fats:.22,carbs:3.05,calories:18}},{name:"Green beans",quantity:75,substances:{proteins:1.8,fats:.15,carbs:3.45,calories:22.5}}]},{type:"Snack",name:"Apple and hazelnuts",time:new Date(2020,3,26,17,0).toString(),substances:{proteins:5.93,fats:25,carbs:21.5,calories:340.4},ingredients:[{name:"Apple",quantity:150,substances:{proteins:.33,fats:.2,carbs:17.1,calories:75}},{name:"Hazelnuts",quantity:40,substances:{proteins:5.6,fats:24.8,carbs:4.4,calories:265.4}}]},{type:"Supper",name:"Sandwiches with ham and salad",time:new Date(2020,3,26,20,0).toString(),substances:{proteins:28.6,fats:10.14,carbs:57,calories:452.4},ingredients:[{name:"Bread",quantity:120,substances:{proteins:10.2,fats:6.24,carbs:55.2,calories:335}},{name:"Ham",quantity:80,substances:{proteins:16.8,fats:2.4,carbs:.4,calories:90.4}},{name:"Salad",quantity:20,substances:{proteins:1.6,fats:1.5,carbs:1.4,calories:27.2}}]}],savedIngredients:[{name:"Apple",substances:{proteins:.26,fats:.17,carbs:11.41,calories:50}},{name:"Chicken",substances:{proteins:21,fats:1.5,carbs:0,calories:100}}],config:{BMR:2200,goal:0,ratioP:2,ratioF:1,ratioC:3,Pmin:174,Pmax:191,Fmin:38,Fmax:42,Cmin:262,Cmax:287},loggedAs:""},ke=function(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_BMR":return L(Object(C.a)({},a,{config:Object(C.a)({},a.config,{BMR:t.payload.BMRresult})}));case"SAVE_PROPORTIONS":return L(Object(C.a)({},a,{config:Object(C.a)({},a.config,{},t.payload.properties)}));case"SAVE_GOAL":return L(Object(C.a)({},a,{config:Object(C.a)({},a.config,{goal:t.payload.goal})}));case"SAVE_NEW_DAY":return L(Object(C.a)({},a,{days:[].concat(Object(Se.a)(a.days),[{id:Math.max.apply(Math,Object(Se.a)(a.days.map((function(e){return e.id}))))+1,date:t.payload.date,substances:{proteins:0,fats:0,carbs:0,calories:0},path:"/".concat(t.payload.date.getFullYear(),"-").concat(2===t.payload.date.getMonth().toString().length?t.payload.date.getMonth()+1:"0".concat(t.payload.date.getMonth()+1),"-").concat(2===t.payload.date.getDate().toString().length?t.payload.date.getDate():"0".concat(t.payload.date.getDate())),meals:[]}]).sort((function(e,a){return new Date(e.date)>new Date(a.date)}))}));case"EDIT_DAY":var n=a.days.filter((function(e){return e.id===t.payload.dayId})),s=Object(B.a)(n,1);return(e=s[0]).date=t.payload.date,e.path="/".concat(t.payload.date.getFullYear(),"-").concat(2===t.payload.date.getMonth().toString().length?t.payload.date.getMonth()+1:"0".concat(t.payload.date.getMonth()+1),"-").concat(2===t.payload.date.getDate().toString().length?t.payload.date.getDate():"0".concat(t.payload.date.getDate())),L(Object(C.a)({},a,{days:[].concat(Object(Se.a)(a.days.filter((function(e){return e.id!==t.payload.dayId}))),[e]).sort((function(e,a){return new Date(e.date)>new Date(a.date)}))}));case"REMOVE_DAY":return L(Object(C.a)({},a,{days:a.days.filter((function(e){return e.id!==t.payload.id})).sort((function(e,a){return new Date(e.date)>new Date(a.date)}))}));case"REMOVE_MEAL":var r=a.days.filter((function(e){return e.id===t.payload.dayId})),l=Object(B.a)(r,1);return(e=l[0]).meals=e.meals.filter((function(e){return e.type!==t.payload.mealType})),L(Object(C.a)({},a,{days:[].concat(Object(Se.a)(a.days.filter((function(e){return e.id!==t.payload.dayId}))),[e])}));case"SAVE_NEW_MEAL":var c=a.days.filter((function(e){return e.id===t.payload.dayId})),o=Object(B.a)(c,1);return(e=o[0]).meals.push(Object(C.a)({},t.payload.properties)),e.meals.sort((function(e,a){return new Date(e.time)>new Date(a.time)})),L(Object(C.a)({},a,{days:[].concat(Object(Se.a)(a.days.filter((function(e){return e.id!==t.payload.dayId}))),[e])}));case"EDIT_MEAL":var i=a.days.filter((function(e){return e.id===t.payload.dayId})),m=Object(B.a)(i,1);return(e=m[0]).meals=e.meals.map((function(e){return e.type===t.payload.prevType?Object(C.a)({},e,{},t.payload.properties):e})).sort((function(e,a){return new Date(e.time)>new Date(a.time)})),L(Object(C.a)({},a,{days:[].concat(Object(Se.a)(a.days.filter((function(e){return e.id!==t.payload.dayId}))),[e]).sort((function(e,a){return new Date(e.date)>new Date(a.date)}))}));case"RECOUNT_SUBSTANCES":return e=a.days.map((function(e){var a=e;return a.meals=e.meals.map((function(e){var a=e;return a.substances.proteins=q(a.ingredients.reduce((function(e,a){return e+a.substances.proteins}),0)),a.substances.fats=q(a.ingredients.reduce((function(e,a){return e+a.substances.fats}),0)),a.substances.carbs=q(a.ingredients.reduce((function(e,a){return e+a.substances.carbs}),0)),a.substances.calories=q(a.ingredients.reduce((function(e,a){return e+a.substances.calories}),0)),a})),a.substances.proteins=q(e.meals.reduce((function(e,a){return e+a.substances.proteins}),0)),a.substances.fats=q(e.meals.reduce((function(e,a){return e+a.substances.fats}),0)),a.substances.carbs=q(e.meals.reduce((function(e,a){return e+a.substances.carbs}),0)),a.substances.calories=q(e.meals.reduce((function(e,a){return e+a.substances.calories}),0)),a})),L(Object(C.a)({},a,{helper:e}));case"REMOVE_BOOKMARKED_MEAL":return L(Object(C.a)({},a,{savedMeals:a.savedMeals.filter((function(e){return e.name!==t.payload.name&&e.type!==t.payload.type}))}));case"ADD_INGREDIENT":var d=a.days.filter((function(e){return e.id===t.payload.dayId})),u=Object(B.a)(d,1);return(e=u[0]).meals=e.meals.map((function(e){return e.type===t.payload.mealType&&e.ingredients.push({name:t.payload.name,quantity:t.payload.quantity,substances:t.payload.substances}),e})),L(Object(C.a)({},a,{days:[].concat(Object(Se.a)(a.days.filter((function(e){return e.id!==t.payload.dayId}))),[e]).sort((function(e,a){return new Date(e.date)>new Date(a.date)}))}));case"REMOVE_INGREDIENT":return e=a.days.map((function(e){return e.id===t.payload.dayId?(e.meals.map((function(e){var a=e;return e.type===t.payload.mealType&&(a.ingredients=Object(Se.a)(e.ingredients.filter((function(e){return e.name!==t.payload.name})))),a})),e):e})),L(Object(C.a)({},a,{days:e}));case"EDIT_INGREDIENT":var p=a.days.filter((function(e){return e.id===t.payload.dayId})),h=Object(B.a)(p,1);return(e=h[0]).meals=e.meals.map((function(e){var a=e;return e.type===t.payload.mealType&&(a.ingredients=e.ingredients.map((function(e){var a=e;return e.name!==t.payload.prevName||t.payload.name!==t.payload.prevName&&""!==t.payload.name||(a.quantity=t.payload.quantity,a.substances=t.payload.substances),e.name===t.payload.prevName&&t.payload.name!==t.payload.prevName&&(a.name=t.payload.name),e}))),e})),L(Object(C.a)({},a,{days:[].concat(Object(Se.a)(a.days.filter((function(e){return e.id!==t.payload.dayId}))),[e]).sort((function(e,a){return new Date(e.date)>new Date(a.date)}))}));case"BOOKMARK_MEAL":return L(Object(C.a)({},a,{savedMeals:[{name:t.payload.name,substances:t.payload.substances,ingredients:t.payload.ingredients}].concat(Object(Se.a)(a.savedMeals))}));case"REMOVE_BOOKMARKED_INGREDIENT":return e=a.savedIngredients.filter((function(e){return e.name!==t.payload.name})),L(Object(C.a)({},a,{savedIngredients:e}));case"BOOKMARK_INGREDIENT":return L(Object(C.a)({},a,{savedIngredients:[{name:t.payload.name,substances:t.payload.substances}].concat(Object(Se.a)(a.savedIngredients))}));case"USER_REGISTER":return t.payload.data.error?a:(localStorage.removeItem("token"),localStorage.removeItem("loggedAs"),localStorage.setItem("token",t.payload.data.token),localStorage.setItem("loggedAs",t.payload.data.email),Object(C.a)({},a,{loggedAs:t.payload.data.email}));case"USER_LOGIN":return t.payload.data.error?a:(localStorage.removeItem("token"),localStorage.removeItem("loggedAs"),localStorage.setItem("token",t.payload.data.token),localStorage.setItem("loggedAs",t.payload.data.state.loggedAs),t.payload.data.state);case"USER_LOGOUT":return localStorage.removeItem("token"),localStorage.removeItem("loggedAs"),Oe;default:return a}},we={key:"root",storage:Ne.a},Ce=Object(fe.a)(we,ke),Me=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ee.d,je=Object(Ee.e)(Ce,Me(Object(Ee.a)(ye.a))),xe={store:je,persistor:Object(fe.b)(je)},Ie=function(){return s.a.createElement(i.a,{store:xe.store},s.a.createElement(m.a,{persistor:xe.persistor},s.a.createElement(c.a,null,s.a.createElement(D,null),s.a.createElement("main",null,s.a.createElement("div",{className:"container"},s.a.createElement(o.d,null,s.a.createElement(o.b,{exact:!0,path:d},s.a.createElement(o.a,{to:u})),s.a.createElement(o.b,{exact:!0,path:E,component:R}),s.a.createElement(o.b,{exact:!0,path:f,component:_}),s.a.createElement(o.b,{exact:!0,path:u,component:Z}),s.a.createElement(o.b,{exact:!0,path:h,component:$}),s.a.createElement(o.b,{exact:!0,path:b,component:se}),s.a.createElement(o.b,{exact:!0,path:g,component:le}),s.a.createElement(o.b,{exact:!0,path:p,component:ge})))))))};t(207);l.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(Ie,null)),document.getElementById("root"))},94:function(e,a,t){e.exports=t.p+"static/media/logo.9a9864f6.svg"}},[[101,1,2]]]);
//# sourceMappingURL=main.6dcded76.chunk.js.map